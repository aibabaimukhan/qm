<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–£—Ä–æ–∫ 23: –ò—Ç–æ–≥–æ–≤–æ–µ –∑–∞–Ω—è—Ç–∏–µ</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        :root {
            --primary: #FFD700; /* –ó–æ–ª–æ—Ç–æ–π (—Ñ–∏–Ω–∞–ª/–ø–æ–±–µ–¥–∞) */
            --dark: #F57F17;
            --accent: #FFF9C4;
            --bg: #FAFAFA;
            --white: #ffffff;
            --green: #43A047;
            --blue: #1E88E5;
            --red: #E53935;
            --text: #333;
        }

        body { 
            font-family: 'Segoe UI', system-ui, sans-serif; 
            line-height: 1.6; 
            color: var(--text); 
            background-color: var(--bg); 
            margin: 0; 
            background-image: url('data:image/svg+xml;utf8,<svg width="60" height="60" viewBox="0 0 60 60" xmlns="http://www.w3.org/2000/svg"><path d="M30 10 L35 25 L50 25 L38 35 L42 50 L30 40 L18 50 L22 35 L10 25 L25 25 Z" fill="%23fff176" opacity="0.4"/></svg>');
        }

        header { 
            background: linear-gradient(135deg, var(--dark), var(--primary)); 
            color: white; 
            padding: 25px 5%; 
            display: flex; 
            justify-content: space-between; 
            align-items: center;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            border-radius: 0 0 20px 20px;
        }

        .back-btn { 
            color: white; text-decoration: none; font-weight: bold; 
            border: 2px solid rgba(255,255,255,0.7); padding: 8px 20px; 
            border-radius: 25px; transition: 0.3s;
        }
        .back-btn:hover { background: white; color: var(--dark); }

        .content { max-width: 1000px; margin: 40px auto; padding: 0 20px; }

        section { 
            background: var(--white); padding: 30px; border-radius: 20px; 
            margin-bottom: 30px; box-shadow: 0 10px 25px rgba(0,0,0,0.05);
            border-top: 5px solid var(--primary);
        }

        h2 { color: var(--dark); border-bottom: 3px solid var(--primary); padding-bottom: 10px; display: inline-block; margin-top: 0; }
        h3 { color: var(--dark); margin-top: 20px; }

        /* –ò–ì–†–ê: –¢–µ—Ä–º–∏–Ω—ã */
        .term-game { background: #FFFDE7; padding: 20px; border-radius: 15px; text-align: center; border: 2px dashed var(--primary); }
        .term-def { font-size: 1.2rem; font-weight: bold; margin-bottom: 15px; min-height: 50px; }
        .term-input { padding: 10px; font-size: 1rem; width: 60%; border: 2px solid var(--primary); border-radius: 5px; }
        .term-btn { padding: 10px 20px; background: var(--dark); color: white; border: none; border-radius: 5px; cursor: pointer; font-weight: bold; }
        .term-msg { margin-top: 10px; font-weight: bold; height: 25px; }

        /* –≠–ö–û-–°–¢–ê–ù–¶–ò–ò (–¢–∞–±—ã) */
        .stations-nav { display: flex; gap: 10px; flex-wrap: wrap; margin-bottom: 20px; }
        .station-btn { 
            flex: 1; padding: 15px; background: #eee; border: none; border-radius: 10px; 
            cursor: pointer; font-weight: bold; transition: 0.3s; 
        }
        .station-btn.active { background: var(--green); color: white; transform: translateY(-3px); box-shadow: 0 5px 10px rgba(0,0,0,0.1); }
        
        .station-content { display: none; animation: fadeIn 0.5s; padding: 10px; }
        .station-content.active { display: block; }

        /* –°—Ç–∞–Ω—Ü–∏—è 2: –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ (–ö–ª–∏–∫) */
        .sort-game { text-align: center; }
        .sort-item { font-size: 4rem; margin: 20px 0; animation: bounce 1s infinite alternate; }
        .sort-bins { display: flex; justify-content: center; gap: 10px; flex-wrap: wrap; }
        .bin-btn { padding: 10px 15px; color: white; border: none; border-radius: 5px; cursor: pointer; font-weight: bold; }
        @keyframes bounce { from { transform: translateY(0); } to { transform: translateY(-10px); } }

        /* –°—Ç–∞–Ω—Ü–∏—è 3: –≠—Ç–∏–∫–µ—Ç */
        .etiquette-grid { display: grid; gap: 10px; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); }
        .et-card { background: #f5f5f5; padding: 15px; border-radius: 10px; text-align: center; cursor: pointer; transition: 0.2s; }
        .et-card:hover { transform: scale(1.02); }

        /* –†–ê–ë–û–ß–ò–ï –õ–ò–°–¢–´ */
        details.worksheet { background: var(--white); border: 1px solid #ccc; border-radius: 8px; margin-bottom: 15px; overflow: hidden; }
        summary.worksheet-header { background: #FFF9C4; padding: 15px; cursor: pointer; font-weight: bold; color: var(--text); list-style: none; display: flex; justify-content: space-between; align-items: center; }
        summary.worksheet-header:hover { background: #FFF59D; }
        summary.worksheet-header::after { content: '‚ñº'; font-size: 0.8em; }
        details[open] summary.worksheet-header::after { content: '‚ñ≤'; }
        .sheet-content { padding: 20px; border-top: 1px solid #eee; background: #fff; }
        .sheet-input { border: none; border-bottom: 2px solid #aaa; background: #f9f9f9; width: 100%; padding: 5px; margin-bottom: 5px; }
        textarea.sheet-area { width: 100%; height: 60px; border: 1px solid #ccc; border-radius: 5px; padding: 10px; background: #fcfcfc; }
        
        .btn-download { background: var(--dark); color: white; border: none; padding: 15px 30px; border-radius: 30px; cursor: pointer; width: 100%; font-size: 1.1rem; font-weight: bold; margin-top: 20px; transition: 0.3s; }
        .btn-download:hover { background: var(--primary); transform: translateY(-2px); }

        /* –¢–ï–°–¢ */
        .quiz-item { margin-bottom: 15px; padding: 15px; background: #FFFDE7; border-radius: 10px; border-left: 4px solid var(--primary); }
        .btn-check { background: var(--primary); color: var(--text); border: none; padding: 10px 25px; border-radius: 20px; cursor: pointer; font-weight: bold; }

        /* –†–ï–§–õ–ï–ö–°–ò–Ø: –ß–µ–º–æ–¥–∞–Ω */
        .reflection-grid { display: flex; gap: 20px; flex-wrap: wrap; margin-top: 20px; }
        .ref-col { flex: 1; min-width: 250px; background: #f9f9f9; padding: 15px; border-radius: 10px; border-top: 5px solid #ccc; }
        .col-suitcase { border-color: var(--green); }
        .col-basket { border-color: var(--blue); }
        .col-trash { border-color: var(--red); }
        
        .ref-input-group { display: flex; gap: 5px; margin-bottom: 15px; }
        .ref-input { flex: 1; padding: 8px; border: 1px solid #ccc; border-radius: 5px; }
        .ref-list { list-style: none; padding: 0; }
        .ref-list li { background: white; padding: 8px; margin-bottom: 5px; border-radius: 5px; box-shadow: 0 1px 3px rgba(0,0,0,0.1); animation: slideIn 0.3s; }

        @keyframes slideIn { from { opacity: 0; transform: translateX(-10px); } to { opacity: 1; transform: translateX(0); } }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
    </style>
</head>
<body>

<header>
    <a href="../index.html" class="back-btn">‚Üê –ú–µ–Ω—é</a>
    <div style="text-align: right">
        <h1 style="margin:0; font-size: 1.5rem;">–ò—Ç–æ–≥–æ–≤–æ–µ –∑–∞–Ω—è—Ç–∏–µ</h1>
        <small>–£—Ä–æ–∫ ‚Ññ23</small>
    </div>
</header>

<div class="content">
    
    <section>
        <h2>üéâ –§–∏–Ω–∏—à–Ω–∞—è –ø—Ä—è–º–∞—è!</h2>
        <p>–ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º! –ú—ã –ø—Ä–æ—à–ª–∏ –±–æ–ª—å—à–æ–π –ø—É—Ç—å. –°–µ–≥–æ–¥–Ω—è –º—ã –≤—Å–ø–æ–º–Ω–∏–º –≤—Å—ë —Å–∞–º–æ–µ –≤–∞–∂–Ω–æ–µ, –ø—Ä–æ–≤–µ—Ä–∏–º —Å–µ–±—è –∏ —Å–æ–±–µ—Ä–µ–º "—ç–∫–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π –±–∞–≥–∞–∂" –≤ –±—É–¥—É—â–µ–µ.</p>
        <div style="background: #FFF9C4; padding: 15px; border-radius: 10px; border-left: 5px solid var(--primary);">
            <strong>–¶–µ–ª—å:</strong> –ó–∞–∫—Ä–µ–ø–∏—Ç—å –∑–Ω–∞–Ω–∏—è –∏ —Å—Ç–∞—Ç—å –Ω–∞—Å—Ç–æ—è—â–∏–º –∑–∞—â–∏—Ç–Ω–∏–∫–æ–º –ø—Ä–∏—Ä–æ–¥—ã.
        </div>
    </section>

    <section>
        <h2>üß† –†–∞–∑–º–∏–Ω–∫–∞: –≠–∫–æ-–¢–µ—Ä–º–∏–Ω—ã</h2>
        <div class="term-game">
            <p>–£–≥–∞–¥–∞–π—Ç–µ —Å–ª–æ–≤–æ –ø–æ –æ–ø–∏—Å–∞–Ω–∏—é:</p>
            <div class="term-def" id="termDef">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
            <input type="text" id="termInput" class="term-input" placeholder="–í–≤–µ–¥–∏—Ç–µ –æ—Ç–≤–µ—Ç...">
            <button class="term-btn" onclick="checkTerm()">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å</button>
            <p class="term-msg" id="termMsg"></p>
        </div>
    </section>

    <section>
        <h2>üö© –ö–≤–µ—Å—Ç ¬´4 –°—Ç–∞–Ω—Ü–∏–∏¬ª</h2>
        <p>–ü—Ä–æ–∏–¥–∏—Ç–µ –≤—Å–µ —ç—Ç–∞–ø—ã –ø—Ä–æ–≤–µ—Ä–∫–∏ –∑–Ω–∞–Ω–∏–π:</p>
        
        <div class="stations-nav">
            <button class="station-btn active" onclick="openStation('s1', this)">1. –ü—Ä–æ–±–ª–µ–º—ã üå™Ô∏è</button>
            <button class="station-btn" onclick="openStation('s2', this)">2. –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ ‚ôªÔ∏è</button>
            <button class="station-btn" onclick="openStation('s3', this)">3. –≠—Ç–∏–∫–µ—Ç ü§´</button>
            <button class="station-btn" onclick="openStation('s4', this)">4. –ü—Ä–∏—Ä–æ–¥–∞ üêæ</button>
        </div>

        <div id="s1" class="station-content active">
            <h3>–£–∑–Ω–∞–π –ø—Ä–æ–±–ª–µ–º—É</h3>
            <p><i>–°–∏—Ç—É–∞—Ü–∏—è:</i> ¬´–í –≥–æ—Ä–æ–¥–µ —Å—Ç–æ–∏—Ç —Å–º–æ–≥, –ª—é–¥—è–º —Ç—Ä—É–¥–Ω–æ –¥—ã—à–∞—Ç—å, –º–Ω–æ–≥–æ –º–∞—à–∏–Ω¬ª.</p>
            <button class="btn-check" onclick="alert('–í–µ—Ä–Ω–æ! –≠—Ç–æ –∑–∞–≥—Ä—è–∑–Ω–µ–Ω–∏–µ –≤–æ–∑–¥—É—Ö–∞.')">–≠—Ç–æ –∑–∞–≥—Ä—è–∑–Ω–µ–Ω–∏–µ –≤–æ–∑–¥—É—Ö–∞</button>
            <button class="btn-check" onclick="alert('–ù–µ—Ç, —ç—Ç–æ –Ω–µ –ø—Ä–æ –≤–æ–¥—É.')">–≠—Ç–æ –∑–∞–≥—Ä—è–∑–Ω–µ–Ω–∏–µ –≤–æ–¥—ã</button>
        </div>

        <div id="s2" class="station-content">
            <h3>–†–∞–∑–ª–æ–∂–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ</h3>
            <div class="sort-game">
                <div class="sort-item" id="sortEmoji">üçå</div>
                <div class="sort-bins">
                    <button class="bin-btn" style="background:#1976D2" onclick="checkSort('paper')">–ë—É–º–∞–≥–∞ üü¶</button>
                    <button class="bin-btn" style="background:#FBC02D; color:#333" onclick="checkSort('plastic')">–ü–ª–∞—Å—Ç–∏–∫ üü®</button>
                    <button class="bin-btn" style="background:#388E3C" onclick="checkSort('glass')">–°—Ç–µ–∫–ª–æ üü©</button>
                    <button class="bin-btn" style="background:#795548" onclick="checkSort('organic')">–û—Ä–≥–∞–Ω–∏–∫–∞ üü´</button>
                </div>
                <p id="sortMsg"></p>
            </div>
        </div>

        <div id="s3" class="station-content">
            <h3>–≠—Ç–∏–∫–µ—Ç —Ç—É—Ä–∏—Å—Ç–∞: –ú–æ–∂–Ω–æ –∏–ª–∏ –ù–µ–ª—å–∑—è?</h3>
            <div class="etiquette-grid">
                <div class="et-card" onclick="this.style.background='#c8e6c9'">–ò–¥—Ç–∏ –ø–æ —Ç—Ä–æ–ø–µ ‚úÖ</div>
                <div class="et-card" onclick="this.style.background='#ffcdd2'">–†–≤–∞—Ç—å —Ü–≤–µ—Ç—ã ‚ùå</div>
                <div class="et-card" onclick="this.style.background='#ffcdd2'">–®—É–º–µ—Ç—å ‚ùå</div>
                <div class="et-card" onclick="this.style.background='#c8e6c9'">–£–Ω–æ—Å–∏—Ç—å –º—É—Å–æ—Ä ‚úÖ</div>
            </div>
        </div>

        <div id="s4" class="station-content">
            <h3>–ñ–∏–≤–∞—è –ø—Ä–∏—Ä–æ–¥–∞</h3>
            <p>–í—ã–±–µ—Ä–∏—Ç–µ –∂–∏–≤–æ—Ç–Ω—ã—Ö, –∑–∞–Ω–µ—Å–µ–Ω–Ω—ã—Ö –≤ –ö—Ä–∞—Å–Ω—É—é –∫–Ω–∏–≥—É (–ø—Ä–∏–º–µ—Ä):</p>
            <label><input type="checkbox"> –°–Ω–µ–∂–Ω—ã–π –±–∞—Ä—Å</label><br>
            <label><input type="checkbox"> –ì–æ–ª—É–±—å</label><br>
            <label><input type="checkbox"> –ê–º—É—Ä—Å–∫–∏–π —Ç–∏–≥—Ä</label>
        </div>
    </section>

    <section id="worksheets-container">
        <h2>üìù –ò—Ç–æ–≥–æ–≤—ã–π –æ—Ç—á–µ—Ç (Word)</h2>
        <p>–ó–∞–ø–æ–ª–Ω–∏ —Ñ–∏–Ω–∞–ª—å–Ω—ã–µ –º—ã—Å–ª–∏ –∏ —Å–∫–∞—á–∞–π —Å–≤–æ–π "–≠–∫–æ-–î–∏–ø–ª–æ–º".</p>

        <details class="worksheet" open>
            <summary class="worksheet-header">üèÜ –õ–ò–°–¢ 1 ‚Äî ¬´–ú–æ–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è¬ª</summary>
            <div class="sheet-content">
                <p>–Ø —É–∑–Ω–∞–ª(–∞): <input type="text" class="sheet-input"></p>
                <p>–ú–µ–Ω—è —É–¥–∏–≤–∏–ª–æ: <input type="text" class="sheet-input"></p>
                <p>–Ø –±—É–¥—É –¥–µ–ª–∞—Ç—å: <input type="text" class="sheet-input"></p>
            </div>
        </details>

        <details class="worksheet">
            <summary class="worksheet-header">üí° –õ–ò–°–¢ 3 ‚Äî ¬´–ú–∏–Ω–∏-–ø—Ä–æ–µ–∫—Ç¬ª</summary>
            <div class="sheet-content">
                <p>–ú–æ—è –∏–¥–µ—è –¥–ª—è —ç–∫–æ–ª–æ–≥–∏–∏:</p>
                <input type="text" class="sheet-input" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ">
                <textarea class="sheet-area" placeholder="–°—É—Ç—å –∏–¥–µ–∏..."></textarea>
            </div>
        </details>

        <button class="btn-download" onclick="generateAndDownloadWord()">üì• –°–∫–∞—á–∞—Ç—å –∏—Ç–æ–≥–æ–≤—É—é —Ä–∞–±–æ—Ç—É (Word)</button>
    </section>

    <section>
        <h2>üéì –ò—Ç–æ–≥–æ–≤—ã–π –¢–µ—Å—Ç</h2>
        <form id="quizForm">
            <div class="quiz-item">1. –≠–∫–æ–ª–æ–≥–∏—è –∏–∑—É—á–∞–µ—Ç: <br><input type="radio" name="q1" value="b"> –í–∑–∞–∏–º–æ—Å–≤—è–∑–∏ –≤ –ø—Ä–∏—Ä–æ–¥–µ <input type="radio" name="q1" value="a"> –ó–æ–æ–ø–∞—Ä–∫–∏</div>
            <div class="quiz-item">2. –≠–∫–æ—Ç—É—Ä–∏–∑–º ‚Äî —ç—Ç–æ: <br><input type="radio" name="q2" value="b"> –¢—É—Ä–∏–∑–º –±–µ–∑ –≤—Ä–µ–¥–∞ <input type="radio" name="q2" value="a"> –û—Ö–æ—Ç–∞</div>
            <div class="quiz-item">3. –ß—Ç–æ –Ω–µ–ª—å–∑—è –≤ –ª–µ—Å—É? <br><input type="radio" name="q3" value="b"> –®—É–º–µ—Ç—å <input type="radio" name="q3" value="a"> –î—ã—à–∞—Ç—å</div>
            <div class="quiz-item">4. –†–µ—Å—É—Ä—Å–æ—Å–±–µ—Ä–µ–∂–µ–Ω–∏–µ: <br><input type="radio" name="q4" value="a"> –í—ã–∫–ª—é—á–∞—Ç—å —Å–≤–µ—Ç <input type="radio" name="q4" value="b"> –ñ–µ—á—å –∫–æ—Å—Ç—Ä—ã</div>
            <div class="quiz-item">5. –í–æ–ª–æ–Ω—Ç–µ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç: <br><input type="radio" name="q5" value="b"> –î–æ–±—Ä–æ–≤–æ–ª—å–Ω–æ <input type="radio" name="q5" value="a"> –ó–∞ –¥–µ–Ω—å–≥–∏</div>
            <button type="button" class="btn-check" onclick="checkQuiz()">–ó–∞–≤–µ—Ä—à–∏—Ç—å –∫—É—Ä—Å</button>
            <p id="quiz-result" style="font-weight:bold; margin-top:10px;"></p>
        </form>
    </section>

    <section>
        <h2>üß≥ –ß–µ–º–æ–¥–∞–Ω, –ö–æ—Ä–∑–∏–Ω–∞, –ú—É—Å–æ—Ä</h2>
        <p>–†–∞—Å–ø—Ä–µ–¥–µ–ª–∏ —Å–≤–æ–∏ –º—ã—Å–ª–∏ –ø–æ –∏—Ç–æ–≥–∞–º –∫—É—Ä—Å–∞:</p>
        
        <div class="reflection-grid">
            <div class="ref-col col-suitcase">
                <h3 style="margin-top:0">üß≥ –ß–µ–º–æ–¥–∞–Ω</h3>
                <p><small>–ë–µ—Ä—É —Å —Å–æ–±–æ–π (–∑–Ω–∞–Ω–∏—è, –ø—Ä–∏–≤—ã—á–∫–∏)</small></p>
                <div class="ref-input-group">
                    <input type="text" id="inSuit" class="ref-input">
                    <button onclick="addRef('suit', 'listSuit')">‚ûï</button>
                </div>
                <ul id="listSuit" class="ref-list"></ul>
            </div>

            <div class="ref-col col-basket">
                <h3 style="margin-top:0">üß∫ –ö–æ—Ä–∑–∏–Ω–∞</h3>
                <p><small>–ù–∞–¥–æ –æ–±–¥—É–º–∞—Ç—å</small></p>
                <div class="ref-input-group">
                    <input type="text" id="inBask" class="ref-input">
                    <button onclick="addRef('bask', 'listBask')">‚ûï</button>
                </div>
                <ul id="listBask" class="ref-list"></ul>
            </div>

            <div class="ref-col col-trash">
                <h3 style="margin-top:0">üóë –ú—É—Å–æ—Ä</h3>
                <p><small>–í—ã–±—Ä–∞—Å—ã–≤–∞—é (–≤—Ä–µ–¥–Ω—ã–µ –ø—Ä–∏–≤—ã—á–∫–∏)</small></p>
                <div class="ref-input-group">
                    <input type="text" id="inTrash" class="ref-input">
                    <button onclick="addRef('trash', 'listTrash')">‚ûï</button>
                </div>
                <ul id="listTrash" class="ref-list"></ul>
            </div>
        </div>
    </section>
</div>

<script>
    // --- –ò–ì–†–ê 1: –¢–µ—Ä–º–∏–Ω—ã ---
    const terms = [
        {t: "–≠–∫–æ–ª–æ–≥–∏—è", d: "–ù–∞—É–∫–∞ –æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–∏ –∂–∏–≤—ã—Ö –æ—Ä–≥–∞–Ω–∏–∑–º–æ–≤."},
        {t: "–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥", d: "–ù–∞–±–ª—é–¥–µ–Ω–∏–µ –∑–∞ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –æ–∫—Ä—É–∂–∞—é—â–µ–π —Å—Ä–µ–¥—ã."},
        {t: "–û–û–ü–¢", d: "–û—Ö—Ä–∞–Ω—è–µ–º–∞—è –ø—Ä–∏—Ä–æ–¥–Ω–∞—è —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏—è (–∞–±–±—Ä–µ–≤–∏–∞—Ç—É—Ä–∞)."},
        {t: "–í–æ–ª–æ–Ω—Ç–µ—Ä", d: "–ß–µ–ª–æ–≤–µ–∫, –ø–æ–º–æ–≥–∞—é—â–∏–π –ø—Ä–∏—Ä–æ–¥–µ –¥–æ–±—Ä–æ–≤–æ–ª—å–Ω–æ."}
    ];
    let termIdx = 0;

    function renderTerm() {
        if(termIdx < terms.length) {
            document.getElementById('termDef').innerText = terms[termIdx].d;
            document.getElementById('termInput').value = "";
            document.getElementById('termMsg').innerText = "";
        } else {
            document.getElementById('termDef').innerText = "–í—Å–µ —Ç–µ—Ä–º–∏–Ω—ã —É–≥–∞–¥–∞–Ω—ã! üéâ";
            document.querySelector('.term-input').style.display = 'none';
            document.querySelector('.term-btn').style.display = 'none';
        }
    }
    
    function checkTerm() {
        const user = document.getElementById('termInput').value.trim().toLowerCase();
        const correct = terms[termIdx].t.toLowerCase();
        if(user === correct) {
            document.getElementById('termMsg').innerText = "–í–µ—Ä–Ω–æ!";
            document.getElementById('termMsg').style.color = "green";
            termIdx++;
            setTimeout(renderTerm, 1000);
        } else {
            document.getElementById('termMsg').innerText = "–ü–æ–ø—Ä–æ–±—É–π –µ—â–µ (–û—Ç–≤–µ—Ç: " + terms[termIdx].t + ")";
            document.getElementById('termMsg').style.color = "red";
        }
    }
    renderTerm();

    // --- –°–¢–ê–ù–¶–ò–ò ---
    function openStation(id, btn) {
        document.querySelectorAll('.station-content').forEach(d => d.classList.remove('active'));
        document.getElementById(id).classList.add('active');
        document.querySelectorAll('.station-btn').forEach(b => b.classList.remove('active'));
        btn.classList.add('active');
    }

    // --- –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ (–ú–∏–Ω–∏) ---
    const sortItems = [
        {e: "üçå", t: "organic"}, {e: "üì∞", t: "paper"}, {e: "ü•§", t: "plastic"}, {e: "üçæ", t: "glass"}
    ];
    let sortIdx = 0;
    
    function renderSort() {
        if(sortIdx < sortItems.length) {
            document.getElementById('sortEmoji').innerText = sortItems[sortIdx].e;
        } else {
            document.getElementById('sortEmoji').innerText = "‚úÖ";
            document.getElementById('sortMsg').innerText = "–ß–∏—Å—Ç–æ!";
        }
    }
    function checkSort(type) {
        if(sortIdx >= sortItems.length) return;
        if(type === sortItems[sortIdx].t) {
            sortIdx++;
            renderSort();
        } else {
            alert("–û—à–∏–±–∫–∞! –ü–æ–ø—Ä–æ–±—É–π –¥—Ä—É–≥–æ–π –±–∞–∫.");
        }
    }
    renderSort();

    // --- WORD ---
    function generateAndDownloadWord() {
        const container = document.getElementById('worksheets-container');
        const clone = container.cloneNode(true);
        clone.querySelector('button').remove(); clone.querySelector('h2').remove(); clone.querySelector('p').remove();
        
        clone.querySelectorAll('input, textarea').forEach(input => {
            const span = document.createElement('span');
            span.style.color = 'blue'; span.style.fontWeight = 'bold';
            span.innerText = input.value || "______________________";
            input.replaceWith(span);
        });

        clone.querySelectorAll('details').forEach(det => {
            const title = det.querySelector('summary').innerText;
            const div = document.createElement('div');
            div.innerHTML = `<h3 style="background:#eee; border-bottom:1px solid #000; padding:5px;">${title}</h3>` + det.querySelector('.sheet-content').innerHTML;
            det.replaceWith(div);
        });

        const header = "<html xmlns:o='urn:schemas-microsoft-com:office:office' xmlns:w='urn:schemas-microsoft-com:office:word' xmlns='http://www.w3.org/TR/REC-html40'><head><meta charset='utf-8'><title>–ò—Ç–æ–≥–∏</title></head><body>";
        const footer = "</body></html>";
        const content = `<h1 style="text-align:center;color:#F57F17">–ú–æ–∏ –≠–∫–æ-–ò—Ç–æ–≥–∏</h1>` + clone.innerHTML;
        
        const blob = new Blob(['\ufeff', header + content + footer], { type: 'application/msword' });
        const url = URL.createObjectURL(blob);
        const link = document.createElement('a'); link.href = url; link.download = '–ò—Ç–æ–≥_–£—Ä–æ–∫_23.doc';
        document.body.appendChild(link); link.click(); document.body.removeChild(link);
    }

    // --- –¢–ï–°–¢ ---
    function checkQuiz() {
        const form = document.getElementById('quizForm');
        let score = 0;
        if(form.q1.value === 'b') score++;
        if(form.q2.value === 'b') score++;
        if(form.q3.value === 'b') score++;
        if(form.q4.value === 'a') score++;
        if(form.q5.value === 'b') score++;
        const res = document.getElementById('quiz-result');
        res.innerText = `–†–µ–∑—É–ª—å—Ç–∞—Ç: ${score}/5. ` + (score===5 ? "–ö—É—Ä—Å –ø—Ä–æ–π–¥–µ–Ω –Ω–∞ –æ—Ç–ª–∏—á–Ω–æ!" : "–•–æ—Ä–æ—à–æ!");
        res.style.color = "green";
    }

    // --- –†–ï–§–õ–ï–ö–°–ò–Ø (–ß–µ–º–æ–¥–∞–Ω) ---
    function addRef(inputIdPrefix, listId) {
        let inputId = "";
        if(inputIdPrefix === 'suit') inputId = "inSuit";
        if(inputIdPrefix === 'bask') inputId = "inBask";
        if(inputIdPrefix === 'trash') inputId = "inTrash";

        const input = document.getElementById(inputId);
        const text = input.value.trim();
        
        if(text) {
            const list = document.getElementById(listId);
            const li = document.createElement('li');
            li.innerText = text;
            list.appendChild(li);
            input.value = "";
        }
    }
</script>

</body>
</html>