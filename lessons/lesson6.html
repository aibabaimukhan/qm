<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–£—Ä–æ–∫ 6: –§–ª–æ—Ä–∞ –∏ —Ñ–∞—É–Ω–∞ —Ä–æ–¥–Ω–æ–≥–æ –∫—Ä–∞—è</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        :root {
            --primary: #388e3c;
            --dark: #1b5e20;
            --accent: #81c784;
            --bg: #e8f5e9;
            --white: #ffffff;
            --brown: #795548;
            --sky: #81d4fa;
        }

        body { 
            font-family: 'Segoe UI', system-ui, sans-serif; 
            line-height: 1.6; 
            color: #333; 
            background-color: var(--bg); 
            margin: 0; 
            background-image: url('data:image/svg+xml;utf8,<svg width="100" height="100" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg"><g fill="%23c8e6c9" fill-opacity="0.4"><path d="M25 25h10v10H25zM65 65h10v10H65z"/></g></svg>');
        }

        header { 
            background: linear-gradient(135deg, var(--dark), var(--primary)); 
            color: white; 
            padding: 25px 5%; 
            display: flex; 
            justify-content: space-between; 
            align-items: center;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            border-radius: 0 0 20px 20px;
        }

        .back-btn { 
            color: white; 
            text-decoration: none; 
            font-weight: bold; 
            border: 2px solid rgba(255,255,255,0.7); 
            padding: 8px 20px; 
            border-radius: 25px; 
            transition: 0.3s;
        }
        .back-btn:hover { background: white; color: var(--dark); border-color: white; }

        .content { max-width: 1000px; margin: 40px auto; padding: 0 20px; }

        section { 
            background: var(--white); 
            padding: 30px; 
            border-radius: 20px; 
            margin-bottom: 30px; 
            box-shadow: 0 10px 25px rgba(0,0,0,0.05);
            border: 1px solid #dcedc8;
        }

        h2 { color: var(--dark); border-bottom: 3px solid var(--accent); padding-bottom: 10px; display: inline-block; margin-top: 0; }
        h3 { color: var(--primary); margin-top: 20px; }

        /* –°–•–ï–ú–ê */
        .tree-container { display: flex; justify-content: center; margin: 20px 0; overflow-x: auto; }
        .tree-root { text-align: center; }
        .tree-box { background: var(--dark); color: white; padding: 10px 20px; border-radius: 10px; display: inline-block; font-weight: bold; margin-bottom: 20px; position: relative; }
        .tree-box::after { content: ''; position: absolute; bottom: -20px; left: 50%; width: 2px; height: 20px; background: #ccc; }
        .branches { display: flex; gap: 40px; justify-content: center; position: relative; }
        .branches::before { content: ''; position: absolute; top: -20px; left: 25%; right: 25%; height: 2px; background: #ccc; }
        .branches::after { content: ''; position: absolute; top: -20px; left: 50%; width: 2px; height: 20px; background: #ccc; }
        .branch-col { display: flex; flex-direction: column; align-items: center; position: relative; }
        .branch-col::before { content: ''; position: absolute; top: -20px; left: 50%; width: 2px; height: 20px; background: #ccc; }
        .branch-title { background: var(--accent); color: var(--dark); padding: 8px 15px; border-radius: 8px; font-weight: bold; margin-bottom: 10px; }
        .leaf-list { list-style: none; padding: 10px; text-align: left; background: #f9f9f9; border-radius: 8px; border: 1px dashed #ccc; }
        .leaf-list li::before { content: "üçÉ "; }

        /* –†–ê–ë–û–ß–ò–ï –õ–ò–°–¢–´ */
        details.worksheet { background: var(--white); border: 1px solid #ccc; border-radius: 8px; margin-bottom: 15px; overflow: hidden; }
        summary.worksheet-header { background: #f1f8e9; padding: 15px; cursor: pointer; font-weight: bold; color: var(--dark); list-style: none; display: flex; justify-content: space-between; align-items: center; }
        summary.worksheet-header:hover { background: #dcedc8; }
        summary.worksheet-header::after { content: '‚ñº'; font-size: 0.8em; }
        details[open] summary.worksheet-header::after { content: '‚ñ≤'; }
        .sheet-content { padding: 20px; border-top: 1px solid #eee; background: #fff; }
        .sheet-input { border: none; border-bottom: 2px solid #aaa; background: #f9f9f9; width: 200px; font-family: inherit; padding: 5px; transition: 0.3s; }
        .sheet-input:focus { border-bottom-color: var(--primary); outline: none; background: #e8f5e9; }
        table.sheet-table { width: 100%; border-collapse: collapse; margin: 15px 0; font-size: 0.9rem; }
        table.sheet-table th, table.sheet-table td { border: 1px solid #aaa; padding: 8px; text-align: left; vertical-align: top; }
        table.sheet-table th { background: #eee; }
        table.sheet-table input { width: 95%; border: none; background: transparent; padding: 5px; }
        .checkbox-group label { display: block; margin: 5px 0; cursor: pointer; }
        textarea.sheet-area { width: 100%; height: 80px; border: 1px solid #ccc; border-radius: 5px; padding: 10px; margin-top: 5px; font-family: inherit; resize: vertical; background: #fcfcfc; }

        .btn-download { background: var(--brown); color: white; border: none; padding: 15px 30px; border-radius: 30px; cursor: pointer; width: 100%; font-size: 1.1rem; font-weight: bold; display: flex; align-items: center; justify-content: center; gap: 10px; box-shadow: 0 5px 15px rgba(121, 85, 72, 0.4); transition: 0.3s; margin-top: 20px; }
        .btn-download:hover { background: #5d4037; transform: translateY(-2px); }

        /* –ê—Ç–ª–∞—Å */
        .atlas-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap: 20px; margin-top: 20px; }
        .flip-card { background-color: transparent; height: 250px; perspective: 1000px; cursor: pointer; }
        .flip-card-inner { position: relative; width: 100%; height: 100%; text-align: center; transition: transform 0.6s; transform-style: preserve-3d; box-shadow: 0 4px 8px rgba(0,0,0,0.1); border-radius: 15px; }
        .flip-card:hover .flip-card-inner { transform: rotateY(180deg); }
        .flip-card-front, .flip-card-back { position: absolute; width: 100%; height: 100%; backface-visibility: hidden; border-radius: 15px; display: flex; align-items: center; justify-content: center; flex-direction: column; }
        .flip-card-front { background: white; border: 2px solid var(--primary); color: var(--dark); }
        .flip-card-front span { font-size: 3rem; margin-bottom: 10px; }
        .flip-card-back { background: var(--primary); color: white; transform: rotateY(180deg); padding: 15px; box-sizing: border-box; }

        .game-area { background: #e1f5fe; padding: 20px; border-radius: 15px; border: 2px dashed var(--sky); text-align: center; }
        .riddle-text { font-size: 1.2rem; font-style: italic; margin-bottom: 20px; font-weight: bold; }
        .answer-btn { background: white; border: 2px solid var(--sky); padding: 10px 20px; margin: 5px; border-radius: 20px; cursor: pointer; transition: 0.3s; color: #0277bd; font-weight: bold; }
        .answer-btn:hover { background: var(--sky); color: white; }

        .video-wrapper { border-radius: 15px; overflow: hidden; position: relative; padding-bottom: 56.25%; height: 0; margin: 20px 0; border: 4px solid var(--dark); }
        .video-wrapper iframe { position: absolute; top: 0; left: 0; width: 100%; height: 100%; }

        /* --- –°–¢–ò–õ–ò –î–õ–Ø –ì–û–õ–û–°–û–í–ê–ù–ò–Ø --- */
        .thoughts-cloud { display: flex; flex-wrap: wrap; gap: 15px; justify-content: center; padding: 20px; }
        
        .thought-bubble { 
            background: white; padding: 15px 25px; border-radius: 20px 20px 20px 0; 
            box-shadow: 2px 2px 10px rgba(0,0,0,0.1); cursor: pointer; border: 2px solid #ddd; 
            transition: 0.2s; max-width: 250px; font-size: 0.95rem; font-weight: bold;
        }
        
        /* –≠—Ñ—Ñ–µ–∫—Ç –Ω–∞–∂–∞—Ç–∏—è (–∞–∫—Ç–∏–≤–Ω—ã–π) */
        .thought-bubble:active { transform: scale(0.95); background: #eee; }
        .thought-bubble:hover { border-color: var(--primary); color: var(--primary); }

        .btn-clear {
            background: #9e9e9e; color: white; border: none; padding: 8px 20px; 
            border-radius: 20px; cursor: pointer; font-size: 0.9rem; transition: 0.2s; margin-top: 20px;
        }
        .btn-clear:hover { background: #757575; }
    </style>
</head>
<body>

<header>
    <a href="../index.html" class="back-btn">‚Üê –ú–µ–Ω—é</a>
    <div style="text-align: right">
        <h1 style="margin:0; font-size: 1.5rem;">–§–ª–æ—Ä–∞ –∏ —Ñ–∞—É–Ω–∞ —Ä–æ–¥–Ω–æ–≥–æ –∫—Ä–∞—è</h1>
        <small>–£—Ä–æ–∫ ‚Ññ6</small>
    </div>
</header>

<div class="content">
    
    <section>
        <h2>üå≤ –•–æ–∑—è–µ–≤–∞ –ø—Ä–∏—Ä–æ–¥—ã</h2>
        <p><i>–í–æ–ø—Ä–æ—Å –¥–ª—è —Ä–∞–∑–º—ã—à–ª–µ–Ω–∏—è:</i> –ö—Ç–æ –∑–¥–µ—Å—å –Ω–∞—Å—Ç–æ—è—â–∏–π —Ö–æ–∑—è–∏–Ω ‚Äî —á–µ–ª–æ–≤–µ–∫ —Å –µ–≥–æ –≥–æ—Ä–æ–¥–∞–º–∏ –∏–ª–∏ –¥—Ä–µ–≤–Ω–∏–π –ª–µ—Å —Å –µ–≥–æ –æ–±–∏—Ç–∞—Ç–µ–ª—è–º–∏?</p>

        <h3>üìä –°—Ö–µ–º–∞ ¬´–§–ª–æ—Ä–∞ –∏ —Ñ–∞—É–Ω–∞ —Ä–æ–¥–Ω–æ–≥–æ –∫—Ä–∞—è¬ª</h3>
        <div class="tree-container">
            <div class="tree-root">
                <div class="tree-box">üåç –†–û–î–ù–û–ô –ö–†–ê–ô</div>
                <div class="branches">
                    <div class="branch-col">
                        <div class="branch-title">üå∫ –§–õ–û–†–ê (–†–∞—Å—Ç–µ–Ω–∏—è)</div>
                        <ul class="leaf-list">
                            <li>–î–µ—Ä–µ–≤—å—è</li>
                            <li>–ö—É—Å—Ç–∞—Ä–Ω–∏–∫–∏</li>
                            <li>–¢—Ä–∞–≤—ã</li>
                            <li style="color: #d32f2f;">–†–µ–¥–∫–∏–µ –≤–∏–¥—ã (–ö—Ä–∞—Å–Ω–∞—è –∫–Ω–∏–≥–∞)</li>
                        </ul>
                    </div>
                    <div class="branch-col">
                        <div class="branch-title">üêæ –§–ê–£–ù–ê (–ñ–∏–≤–æ—Ç–Ω—ã–µ)</div>
                        <ul class="leaf-list">
                            <li>–ú–ª–µ–∫–æ–ø–∏—Ç–∞—é—â–∏–µ</li>
                            <li>–ü—Ç–∏—Ü—ã</li>
                            <li>–†—ã–±—ã / –ê–º—Ñ–∏–±–∏–∏</li>
                            <li>–ù–∞—Å–µ–∫–æ–º—ã–µ</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section>
        <h2>ü¶ä –ú–∏–Ω–∏-–∏–≥—Ä–∞ ¬´–£–≥–∞–¥–∞–π –ø–æ –æ–ø–∏—Å–∞–Ω–∏—é¬ª</h2>
        <div class="game-area" id="riddle-box">
            <p class="riddle-text" id="riddle-txt">¬´–•–∏—â–Ω–∞—è –ø—Ç–∏—Ü–∞, –æ—Å—Ç—Ä–æ–µ –∑—Ä–µ–Ω–∏–µ, –ø–∞—Ä–∏—Ç –≤—ã—Å–æ–∫–æ –≤ –Ω–µ–±–µ...¬ª</p>
            <div id="riddle-opts">
                <button class="answer-btn" onclick="checkRiddle(this, 'correct')">ü¶Ö –Ø—Å—Ç—Ä–µ–±</button>
                <button class="answer-btn" onclick="checkRiddle(this, 'wrong')">ü¶â –°–æ–≤–∞</button>
                <button class="answer-btn" onclick="checkRiddle(this, 'wrong')">üê¶ –°–∏–Ω–∏—Ü–∞</button>
            </div>
            <p id="riddle-res" style="font-weight: bold; margin-top: 15px;"></p>
        </div>
    </section>

    <section>
        <h2>üìñ –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –ê—Ç–ª–∞—Å</h2>
        <div class="atlas-grid">
            <div class="flip-card"><div class="flip-card-inner"><div class="flip-card-front"><span>üå≤</span><h3>–ï–ª—å</h3></div><div class="flip-card-back"><p>–í–µ—á–Ω–æ–∑–µ–ª–µ–Ω–æ–µ –¥–µ—Ä–µ–≤–æ. –¢–µ–Ω–µ–≤—ã–Ω–æ—Å–ª–∏–≤–∞. –î–æ–º –¥–ª—è –∫–ª–µ—Å—Ç–æ–≤ –∏ –±–µ–ª–æ–∫.</p></div></div></div>
            <div class="flip-card"><div class="flip-card-inner"><div class="flip-card-front"><span>üåø</span><h3>–ë–µ—Ä—ë–∑–∞</h3></div><div class="flip-card-back"><p>–°–≤–µ—Ç–æ–ª—é–±–∏–≤–∞. –°–∏–º–≤–æ–ª –∫—Ä–∞—è. –í—ã–¥–µ–ª—è–µ—Ç –ø–æ–ª–µ–∑–Ω—ã–π —Å–æ–∫ –≤–µ—Å–Ω–æ–π.</p></div></div></div>
            <div class="flip-card"><div class="flip-card-inner"><div class="flip-card-front"><span>üêª</span><h3>–ú–µ–¥–≤–µ–¥—å</h3></div><div class="flip-card-back"><p>–í—Å–µ—è–¥–Ω—ã–π. –°–∞–Ω–∏—Ç–∞—Ä –ª–µ—Å–∞. –ó–∏–º–æ–π –≤–ø–∞–¥–∞–µ—Ç –≤ —Å–ø—è—á–∫—É.</p></div></div></div>
            <div class="flip-card"><div class="flip-card-inner"><div class="flip-card-front"><span>üêá</span><h3>–ó–∞—è—Ü</h3></div><div class="flip-card-back"><p>–¢—Ä–∞–≤–æ—è–¥–Ω—ã–π. –ú–µ–Ω—è–µ—Ç —Ü–≤–µ—Ç —à—É–±–∫–∏ –¥–ª—è –º–∞—Å–∫–∏—Ä–æ–≤–∫–∏.</p></div></div></div>
        </div>
        <div class="video-wrapper">
            <iframe width="560" height="315" src="https://www.youtube.com/embed/sZiEuIE__fo?si=EmXploQKfMTNvPVl" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
        </div>
    </section>

    <section id="worksheets-container">
        <h2>üìù –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –∑–∞–¥–∞–Ω–∏—è (–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –∑–¥–µ—Å—å)</h2>
        <p>–û—Ç–∫—Ä–æ–π—Ç–µ –ª–∏—Å—Ç—ã, –≤–ø–∏—à–∏—Ç–µ –æ—Ç–≤–µ—Ç—ã, –∞ –∑–∞—Ç–µ–º –Ω–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É ¬´–°–∫–∞—á–∞—Ç—å¬ª –≤–Ω–∏–∑—É, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –≥–æ—Ç–æ–≤—ã–π Word-—Ñ–∞–π–ª.</p>

        <details class="worksheet" open>
            <summary class="worksheet-header">üìÑ –õ–ò–°–¢ ‚Ññ1 ‚Äî ¬´–§–ª–æ—Ä–∞ –º–æ–µ–≥–æ –∫—Ä–∞—è¬ª</summary>
            <div class="sheet-content">
                <p>–§–ò–û —Å—Ç—É–¥–µ–Ω—Ç–∞: <input type="text" class="sheet-input" placeholder="–í–∞—à–µ –∏–º—è"> –ì—Ä—É–ø–ø–∞: <input type="text" class="sheet-input" placeholder="–í–∞—à–∞ –≥—Ä—É–ø–ø–∞"></p>
                <h3>1. –¢–∞–±–ª–∏—Ü–∞ —Ä–∞—Å—Ç–µ–Ω–∏–π</h3>
                <table class="sheet-table">
                    <tr><th style="width:25%">–ù–∞–∑–≤–∞–Ω–∏–µ</th><th style="width:25%">–ì–¥–µ —Ä–∞—Å—Ç—ë—Ç?</th><th style="width:25%">–ü—Ä–∏–∑–Ω–∞–∫–∏</th><th style="width:25%">–†–æ–ª—å</th></tr>
                    <tr><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td></tr>
                    <tr><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td></tr>
                    <tr><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td></tr>
                </table>
                <h3>2. –ü–æ—á–µ–º—É —Ä–∞—Å—Ç–µ–Ω–∏—è –≤–∞–∂–Ω–æ —Å–æ—Ö—Ä–∞–Ω—è—Ç—å?</h3>
                <textarea class="sheet-area" placeholder="–ù–∞–ø–∏—à–∏—Ç–µ –ø—Ä–∏—á–∏–Ω—ã..."></textarea>
            </div>
        </details>

        <details class="worksheet">
            <summary class="worksheet-header">üêæ –õ–ò–°–¢ ‚Ññ2 ‚Äî ¬´–§–∞—É–Ω–∞ –º–æ–µ–≥–æ –∫—Ä–∞—è¬ª</summary>
            <div class="sheet-content">
                <p>–§–ò–û —Å—Ç—É–¥–µ–Ω—Ç–∞: <input type="text" class="sheet-input" placeholder="–í–∞—à–µ –∏–º—è"></p>
                <h3>1. –ê–Ω–∞–ª–∏–∑ –∂–∏–≤–æ—Ç–Ω—ã—Ö</h3>
                <table class="sheet-table">
                    <tr><th>–ñ–∏–≤–æ—Ç–Ω–æ–µ</th><th>–ì—Ä—É–ø–ø–∞</th><th>–ß–µ–º –ø–∏—Ç–∞–µ—Ç—Å—è?</th><th>–í—Ä–∞–≥–∏</th></tr>
                    <tr><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td></tr>
                    <tr><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td></tr>
                    <tr><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td></tr>
                </table>
                <h3>2. –û–ø–∏—à–∏ —Å–ª–µ–¥ –∂–∏–≤–æ—Ç–Ω–æ–≥–æ</h3>
                <textarea class="sheet-area"></textarea>
            </div>
        </details>

        <details class="worksheet">
            <summary class="worksheet-header">üìï –õ–ò–°–¢ ‚Ññ3 ‚Äî ¬´–ö—Ä–∞—Å–Ω–∞—è –∫–Ω–∏–≥–∞¬ª</summary>
            <div class="sheet-content">
                <h3>1. –†–µ–¥–∫–∏–µ –≤–∏–¥—ã —Ä–µ–≥–∏–æ–Ω–∞</h3>
                <table class="sheet-table">
                    <tr><th>–í–∏–¥</th><th>–ü–æ—á–µ–º—É —Ä–µ–¥–∫–∏–π?</th><th>–ú–µ—Ä—ã –æ—Ö—Ä–∞–Ω—ã</th></tr>
                    <tr><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td></tr>
                    <tr><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td></tr>
                </table>
                <h3>2. –ß—Ç–æ –º–æ–∂–µ—Ç —Å–¥–µ–ª–∞—Ç—å –æ–±—ã—á–Ω—ã–π —á–µ–ª–æ–≤–µ–∫?</h3>
                <textarea class="sheet-area" placeholder="–í–∞—à–∏ –º—ã—Å–ª–∏..."></textarea>
            </div>
        </details>

        <details class="worksheet">
            <summary class="worksheet-header">üî≠ –õ–ò–°–¢ ‚Ññ4 ‚Äî ¬´–ü–æ–ª–µ–≤–æ–π –¥–Ω–µ–≤–Ω–∏–∫¬ª</summary>
            <div class="sheet-content">
                <p>–ú–µ—Å—Ç–æ: <input type="text" class="sheet-input"> –î–∞—Ç–∞: <input type="text" class="sheet-input"></p>
                <h3>1. –ù–∞–π–¥–µ–Ω–Ω—ã–µ —Ä–∞—Å—Ç–µ–Ω–∏—è</h3>
                <textarea class="sheet-area"></textarea>
                <h3>2. –ù–∞–π–¥–µ–Ω–Ω—ã–µ –∂–∏–≤–æ—Ç–Ω—ã–µ/—Å–ª–µ–¥—ã</h3>
                <textarea class="sheet-area"></textarea>
                <h3>3. –ß–µ–∫-–ª–∏—Å—Ç –Ω–∞—Ö–æ–¥–æ–∫:</h3>
                <div class="checkbox-group">
                    <label><input type="checkbox"> –ü—Ç–∏—Ü—ã</label>
                    <label><input type="checkbox"> –ù–∞—Å–µ–∫–æ–º—ã–µ</label>
                    <label><input type="checkbox"> –°–ª–µ–¥—ã –∂–∏–≤–æ—Ç–Ω—ã—Ö</label>
                    <label><input type="checkbox"> –ì–Ω–µ–∑–¥–æ / –ù–æ—Ä–∞</label>
                    <label><input type="checkbox"> –ú—Ö–∏ / –ì—Ä–∏–±—ã</label>
                    <label><input type="checkbox"> –ú—É—Å–æ—Ä</label>
                </div>
                <h3>4. –ß—Ç–æ —É–¥–∏–≤–∏–ª–æ?</h3>
                <textarea class="sheet-area"></textarea>
            </div>
        </details>

        <button class="btn-download" onclick="generateAndDownloadWord()">
            üíæ –°–∫–∞—á–∞—Ç—å –∑–∞–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –ª–∏—Å—Ç—ã (Word)
        </button>
    </section>

    <section>
        <h2 style="text-align: center;">üìä –ò—Ç–æ–≥–∏ –∫–ª–∞—Å—Å–∞: ¬´–ü–æ–π–º–∞–ª –º—ã—Å–ª—å¬ª</h2>
        <p style="text-align: center;">–ù–∞–∂–º–∏—Ç–µ –Ω–∞ —Ñ—Ä–∞–∑—É, —á—Ç–æ–±—ã –¥–æ–±–∞–≤–∏—Ç—å —Å–≤–æ–π –≥–æ–ª–æ—Å:</p>
        
        <div class="thoughts-cloud">
            <div class="thought-bubble" onclick="vote(0)">¬´–Ø —É–∑–Ω–∞–ª –º–Ω–æ–≥–æ –Ω–æ–≤—ã—Ö –≤–∏–¥–æ–≤!¬ª üåø</div>
            <div class="thought-bubble" onclick="vote(1)">¬´–ü—Ä–∏—Ä–æ–¥–∞ —É–¥–∏–≤–∏—Ç–µ–ª—å–Ω–æ —Å–ª–æ–∂–Ω–∞—è¬ª üß©</div>
            <div class="thought-bubble" onclick="vote(2)">¬´–•–æ—á—É –ø–æ–π—Ç–∏ –≤ –ª–µ—Å –∏ –Ω–∞–±–ª—é–¥–∞—Ç—å¬ª üî≠</div>
            <div class="thought-bubble" onclick="vote(3)">¬´–¢–µ–ø–µ—Ä—å —è –±—É–¥—É –±–µ—Ä–µ—á—å —Ä–µ–¥–∫–∏–µ —Ü–≤–µ—Ç—ã¬ª üå∏</div>
            <div class="thought-bubble" onclick="vote(4)">¬´–ú–µ–Ω—è —É–¥–∏–≤–∏–ª–∏ —Ö–∏—â–Ω—ã–µ –ø—Ç–∏—Ü—ã¬ª ü¶Ö</div>
        </div>
        
        <p id="vote-msg" style="text-align: center; color: var(--primary); font-weight: bold; margin-top: 10px; height: 20px;"></p>

        <div style="max-width: 500px; margin: 20px auto;">
            <canvas id="reflectionChart"></canvas>
        </div>

        <div style="text-align: center;">
            <button class="btn-clear" onclick="clearVotes()">üóëÔ∏è –û—á–∏—Å—Ç–∏—Ç—å –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏–µ (–î–ª—è –Ω–æ–≤–æ–π –≥—Ä—É–ø–ø—ã)</button>
        </div>
    </section>
</div>

<script>
    // --- –ì–ï–ù–ï–†–ê–¶–ò–Ø WORD (–ó–∞–ø–æ–ª–Ω–µ–Ω–Ω—ã–π) ---
    function generateAndDownloadWord() {
        const container = document.getElementById('worksheets-container');
        const clone = container.cloneNode(true);
        clone.querySelector('button').remove(); clone.querySelector('h2').remove(); clone.querySelector('p').remove();
        const originalInputs = container.querySelectorAll('input, textarea');
        const clonedInputs = clone.querySelectorAll('input, textarea');
        for (let i = 0; i < originalInputs.length; i++) {
            const org = originalInputs[i]; const cln = clonedInputs[i];
            const span = document.createElement('span');
            span.style.color = '#00008b'; span.style.fontWeight = 'bold';
            if (org.type === 'checkbox') { span.innerText = org.checked ? '‚òí ' : '‚òê '; cln.replaceWith(span); } 
            else { let val = org.value || "______________________"; span.innerText = val; cln.replaceWith(span); }
        }
        const details = clone.querySelectorAll('details');
        details.forEach(det => {
            const title = det.querySelector('summary').innerText;
            const contentDiv = document.createElement('div');
            contentDiv.innerHTML = `<h3 style="background:#eee;padding:5px;border-bottom:1px solid #000">${title}</h3>` + det.querySelector('.sheet-content').innerHTML;
            contentDiv.style.marginBottom = "30px";
            det.replaceWith(contentDiv);
        });
        const header = "<html xmlns:o='urn:schemas-microsoft-com:office:office' xmlns:w='urn:schemas-microsoft-com:office:word' xmlns='http://www.w3.org/TR/REC-html40'><head><meta charset='utf-8'><title>–û—Ç—á–µ—Ç</title></head><body>";
        const footer = "</body></html>";
        const styles = `<style>body { font-family: 'Times New Roman', serif; } table { width: 100%; border-collapse: collapse; margin: 10px 0; } td, th { border: 1px solid black; padding: 5px; } th { background-color: #f0f0f0; }</style>`;
        const blob = new Blob(['\ufeff', header + styles + `<h1 style="text-align:center">–û—Ç—á–µ—Ç: –§–ª–æ—Ä–∞ –∏ –§–∞—É–Ω–∞</h1>` + clone.innerHTML + footer], { type: 'application/msword' });
        const url = URL.createObjectURL(blob);
        const link = document.createElement('a'); link.href = url; link.download = '–ú–æ–∏_–û—Ç–≤–µ—Ç—ã_–£—Ä–æ–∫_6.doc'; document.body.appendChild(link); link.click(); document.body.removeChild(link);
    }

    // --- –ò–ì–†–ê ---
    const riddles = [{ text: "¬´–•–∏—â–Ω–∞—è –ø—Ç–∏—Ü–∞, –æ—Å—Ç—Ä–æ–µ –∑—Ä–µ–Ω–∏–µ...¬ª", opts: [{t:"–Ø—Å—Ç—Ä–µ–±", v:true}, {t:"–°–æ–≤–∞", v:false}, {t:"–°–∏–Ω–∏—Ü–∞", v:false}] }, { text: "¬´–†–∞—Å—Ç–µ–Ω–∏–µ —Å –º—è–≥–∫–∏–º–∏ –∏–≥–æ–ª–∫–∞–º–∏...¬ª", opts: [{t:"–î—É–±", v:false}, {t:"–ï–ª—å", v:true}, {t:"–ë–µ—Ä—ë–∑–∞", v:false}] }, { text: "¬´–ñ–∏–≤—ë—Ç –≤ –ª–µ—Å—É, —Ä—ã–∂–∞—è, —Ö–∏—Ç—Ä–∞—è...¬ª", opts: [{t:"–ë–µ–ª–∫–∞", v:false}, {t:"–í–æ–ª–∫", v:false}, {t:"–õ–∏—Å–∞", v:true}] }];
    let currentRiddle = 0;
    function renderRiddle() {
        const r = riddles[currentRiddle]; document.getElementById('riddle-txt').innerText = r.text; const optsDiv = document.getElementById('riddle-opts'); optsDiv.innerHTML = '';
        r.opts.forEach(opt => { const btn = document.createElement('button'); btn.className = 'answer-btn'; btn.innerText = opt.t; btn.onclick = () => checkRiddle(btn, opt.v); optsDiv.appendChild(btn); });
        document.getElementById('riddle-res').innerText = "";
    }
    function checkRiddle(btn, isCorrect) {
        const res = document.getElementById('riddle-res');
        if(isCorrect) { res.style.color = "green"; res.innerText = "–í–µ—Ä–Ω–æ!"; setTimeout(() => { currentRiddle = (currentRiddle + 1) % riddles.length; renderRiddle(); }, 1000); } 
        else { res.style.color = "red"; res.innerText = "–ü–æ–¥—É–º–∞–π –µ—â–µ..."; }
    }
    renderRiddle();

    // --- –†–ï–§–õ–ï–ö–°–ò–Ø: –ì–û–õ–û–°–û–í–ê–ù–ò–ï –ö–õ–ê–°–°–ê ---
    
    const labels = [
        "–£–∑–Ω–∞–ª –Ω–æ–≤—ã–µ –≤–∏–¥—ã üåø",
        "–ü—Ä–∏—Ä–æ–¥–∞ —Å–ª–æ–∂–Ω–∞—è üß©",
        "–•–æ—á—É –≤ –ª–µ—Å üî≠",
        "–ë—É–¥—É –±–µ—Ä–µ—á—å —Ü–≤–µ—Ç—ã üå∏",
        "–£–¥–∏–≤–∏–ª–∏ –ø—Ç–∏—Ü—ã ü¶Ö"
    ];

    // –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –∏–ª–∏ –Ω—É–ª–µ–π
    let votes = JSON.parse(localStorage.getItem('lesson6_votes')) || [0, 0, 0, 0, 0];
    let myChart;

    function initChart() {
        const ctx = document.getElementById('reflectionChart').getContext('2d');
        myChart = new Chart(ctx, {
            type: 'bar', // –°—Ç–æ–ª–±—á–∞—Ç–∞—è –¥–∏–∞–≥—Ä–∞–º–º–∞ –ª—É—á—à–µ –¥–ª—è –¥–ª–∏–Ω–Ω—ã—Ö –Ω–∞–∑–≤–∞–Ω–∏–π
            data: {
                labels: labels,
                datasets: [{
                    label: '–ì–æ–ª–æ—Å–∞ —Å—Ç—É–¥–µ–Ω—Ç–æ–≤',
                    data: votes,
                    backgroundColor: [
                        'rgba(75, 192, 192, 0.6)',
                        'rgba(54, 162, 235, 0.6)',
                        'rgba(255, 206, 86, 0.6)',
                        'rgba(255, 99, 132, 0.6)',
                        'rgba(153, 102, 255, 0.6)'
                    ],
                    borderColor: [
                        'rgba(75, 192, 192, 1)',
                        'rgba(54, 162, 235, 1)',
                        'rgba(255, 206, 86, 1)',
                        'rgba(255, 99, 132, 1)',
                        'rgba(153, 102, 255, 1)'
                    ],
                    borderWidth: 1
                }]
            },
            options: {
                scales: {
                    y: { beginAtZero: true, ticks: { stepSize: 1 } }
                },
                plugins: { legend: { display: false } }
            }
        });
    }

    function vote(index) {
        votes[index]++;
        localStorage.setItem('lesson6_votes', JSON.stringify(votes));
        
        // –û–±–Ω–æ–≤–ª—è–µ–º –≥—Ä–∞—Ñ–∏–∫
        myChart.data.datasets[0].data = votes;
        myChart.update();

        // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ
        const msg = document.getElementById('vote-msg');
        msg.innerText = "–ì–æ–ª–æ—Å –ø—Ä–∏–Ω—è—Ç! –°–ø–∞—Å–∏–±–æ.";
        setTimeout(() => { msg.innerText = ""; }, 1500);
    }

    function clearVotes() {
        if(confirm("–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ –æ–±–Ω—É–ª–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏—è?")) {
            votes = [0, 0, 0, 0, 0];
            localStorage.setItem('lesson6_votes', JSON.stringify(votes));
            myChart.data.datasets[0].data = votes;
            myChart.update();
        }
    }

    window.onload = initChart;
</script>

</body>
</html>