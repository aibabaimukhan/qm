<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–£—Ä–æ–∫ 15: –ö–ª–∏–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        :root {
            --cold: #0288d1; /* –•–æ–ª–æ–¥ */
            --hot: #d32f2f;  /* –ñ–∞—Ä–∞ */
            --earth: #388e3c; /* –ü—Ä–∏—Ä–æ–¥–∞ */
            --bg: #fbe9e7;
            --white: #ffffff;
            --text: #333;
        }

        body { 
            font-family: 'Segoe UI', system-ui, sans-serif; 
            line-height: 1.6; 
            color: var(--text); 
            background-color: var(--bg); 
            margin: 0; 
            background-image: linear-gradient(180deg, #e1f5fe 0%, #ffebee 100%);
        }

        header { 
            background: linear-gradient(135deg, var(--cold), var(--hot)); 
            color: white; 
            padding: 25px 5%; 
            display: flex; 
            justify-content: space-between; 
            align-items: center;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            border-radius: 0 0 20px 20px;
        }

        .back-btn { 
            color: white; text-decoration: none; font-weight: bold; 
            border: 2px solid rgba(255,255,255,0.7); padding: 8px 20px; 
            border-radius: 25px; transition: 0.3s;
        }
        .back-btn:hover { background: white; color: var(--hot); }

        .content { max-width: 1000px; margin: 40px auto; padding: 0 20px; }

        section { 
            background: var(--white); padding: 30px; border-radius: 20px; 
            margin-bottom: 30px; box-shadow: 0 10px 25px rgba(0,0,0,0.05);
            border-top: 5px solid var(--hot);
        }

        h2 { color: var(--text); border-bottom: 3px solid var(--hot); padding-bottom: 10px; display: inline-block; margin-top: 0; }
        h3 { color: var(--hot); margin-top: 20px; }

        /* –ò–ì–†–ê 1: –ü–æ–≥–æ–¥–∞ –∏–ª–∏ –ö–ª–∏–º–∞—Ç */
        .wc-game { text-align: center; background: #eceff1; padding: 20px; border-radius: 15px; }
        .wc-statement { font-size: 1.5rem; font-weight: bold; margin-bottom: 20px; min-height: 60px; display: flex; align-items: center; justify-content: center; }
        .wc-buttons { display: flex; gap: 20px; justify-content: center; }
        .wc-btn { padding: 15px 30px; border: none; border-radius: 10px; font-size: 1.1rem; cursor: pointer; color: white; transition: 0.3s; width: 150px; }
        .btn-weather { background: var(--cold); }
        .btn-climate { background: var(--hot); }
        .btn-weather:hover, .btn-climate:hover { transform: scale(1.05); opacity: 0.9; }
        .wc-feedback { margin-top: 15px; font-weight: bold; height: 20px; }

        /* –ò–ì–†–ê 2: –°–≤—è–∑–∏ (–ü—Ä–∏—á–∏–Ω–∞-–°–ª–µ–¥—Å—Ç–≤–∏–µ) */
        .pairs-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; margin-top: 20px; }
        .pair-card {
            background: white; border: 2px solid #ccc; padding: 15px; border-radius: 10px;
            text-align: center; cursor: pointer; transition: 0.3s; user-select: none;
        }
        .pair-card:hover { border-color: var(--hot); }
        .pair-card.selected { background: #fff3e0; border-color: var(--hot); transform: scale(1.05); }
        .pair-card.matched { background: #c8e6c9; border-color: var(--earth); color: var(--earth); cursor: default; pointer-events: none; opacity: 0.7; }

        /* –í–ò–î–ï–û */
        .video-wrapper { border-radius: 15px; overflow: hidden; position: relative; padding-bottom: 56.25%; height: 0; margin: 20px 0; border: 4px solid var(--text); }
        .video-wrapper iframe { position: absolute; top: 0; left: 0; width: 100%; height: 100%; }

        /* –†–ê–ë–û–ß–ò–ï –õ–ò–°–¢–´ */
        details.worksheet { background: var(--white); border: 1px solid #ccc; border-radius: 8px; margin-bottom: 15px; overflow: hidden; }
        summary.worksheet-header { background: #ffebee; padding: 15px; cursor: pointer; font-weight: bold; color: var(--text); list-style: none; display: flex; justify-content: space-between; align-items: center; }
        summary.worksheet-header:hover { background: #ffcdd2; }
        summary.worksheet-header::after { content: '‚ñº'; font-size: 0.8em; }
        details[open] summary.worksheet-header::after { content: '‚ñ≤'; }
        .sheet-content { padding: 20px; border-top: 1px solid #eee; background: #fff; }
        .sheet-input { border: none; border-bottom: 2px solid #aaa; background: #f9f9f9; width: 100%; padding: 5px; margin-bottom: 5px; }
        table.sheet-table { width: 100%; border-collapse: collapse; margin: 15px 0; font-size: 0.9rem; }
        table.sheet-table th, table.sheet-table td { border: 1px solid #aaa; padding: 8px; text-align: left; vertical-align: top; }
        table.sheet-table th { background: #eee; }
        table.sheet-table input { width: 95%; border: none; background: transparent; padding: 5px; }
        textarea.sheet-area { width: 100%; height: 60px; border: 1px solid #ccc; border-radius: 5px; padding: 10px; background: #fcfcfc; }
        .btn-download { background: var(--hot); color: white; border: none; padding: 15px 30px; border-radius: 30px; cursor: pointer; width: 100%; font-size: 1.1rem; font-weight: bold; margin-top: 20px; transition: 0.3s; }
        .btn-download:hover { background: #b71c1c; transform: translateY(-2px); }

        /* –¢–ï–°–¢ */
        .quiz-item { margin-bottom: 15px; padding: 15px; background: #fffde7; border-radius: 10px; border-left: 4px solid #fbc02d; }
        .btn-check { background: var(--text); color: white; border: none; padding: 10px 25px; border-radius: 20px; cursor: pointer; }

        /* –†–ï–§–õ–ï–ö–°–ò–Ø */
        .action-box { display: flex; gap: 10px; margin-top: 20px; }
        .action-btn { background: var(--earth); color: white; padding: 10px 20px; border: none; border-radius: 10px; cursor: pointer; font-weight: bold; }
        .action-list { margin-top: 20px; }
        .action-item { background: #e8f5e9; padding: 10px; border-radius: 5px; margin-bottom: 5px; border-left: 4px solid var(--earth); }
    </style>
</head>
<body>

<header>
    <a href="../index.html" class="back-btn">‚Üê –ú–µ–Ω—é</a>
    <div style="text-align: right">
        <h1 style="margin:0; font-size: 1.5rem;">–ö–ª–∏–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è</h1>
        <small>–£—Ä–æ–∫ ‚Ññ15</small>
    </div>
</header>

<div class="content">
    
    <section>
        <h2>üå°Ô∏è –ü–ª–∞–Ω–µ—Ç–∞ –Ω–∞–≥—Ä–µ–≤–∞–µ—Ç—Å—è</h2>
        <p><i>–í–æ–ø—Ä–æ—Å:</i> –í—ã –∑–∞–º–µ—Ç–∏–ª–∏, —á—Ç–æ –∑–∏–º—ã —Å—Ç–∞–ª–∏ —Ç–µ–ø–ª–µ–µ, –∞ –ª–µ—Ç–æ –∂–∞—Ä—á–µ? –≠—Ç–æ —Å–ª—É—á–∞–π–Ω–æ—Å—Ç—å –∏–ª–∏ –∑–∞–∫–æ–Ω–æ–º–µ—Ä–Ω–æ—Å—Ç—å?</p>
        <div style="background: #ffebee; padding: 15px; border-radius: 10px; border-left: 5px solid var(--hot);">
            <strong>–¶–µ–ª—å:</strong> –ü–æ–Ω—è—Ç—å, –ø–æ—á–µ–º—É –º–µ–Ω—è–µ—Ç—Å—è –∫–ª–∏–º–∞—Ç –∏ —á—Ç–æ –º—ã –º–æ–∂–µ–º —Å —ç—Ç–∏–º —Å–¥–µ–ª–∞—Ç—å.
        </div>
    </section>

    <section>
        <h2>üå¶Ô∏è –ò–≥—Ä–∞ ¬´–ü–æ–≥–æ–¥–∞ –∏–ª–∏ –ö–ª–∏–º–∞—Ç?¬ª</h2>
        <p>–ü—Ä–æ—á–∏—Ç–∞–π—Ç–µ —É—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –∏ –≤—ã–±–µ—Ä–∏—Ç–µ –∫–Ω–æ–ø–∫—É:</p>
        <div class="wc-game">
            <div class="wc-statement" id="wcText">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
            <div class="wc-buttons">
                <button class="wc-btn btn-weather" onclick="checkWC('weather')">‚òî –ü–æ–≥–æ–¥–∞</button>
                <button class="wc-btn btn-climate" onclick="checkWC('climate')">üåç –ö–ª–∏–º–∞—Ç</button>
            </div>
            <p class="wc-feedback" id="wcMsg"></p>
        </div>
    </section>

    <section>
        <h2>üìö –ü—Ä–∏—á–∏–Ω—ã –∏ –ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è</h2>
        <p><b>–ü–∞—Ä–Ω–∏–∫–æ–≤—ã–π —ç—Ñ—Ñ–µ–∫—Ç:</b> –ì–∞–∑—ã (–∫–∞–∫ CO‚ÇÇ) —Ä–∞–±–æ—Ç–∞—é—Ç –∫–∞–∫ —Å—Ç–µ–∫–ª–æ –≤ —Ç–µ–ø–ª–∏—Ü–µ ‚Äî –ø—É—Å–∫–∞—é—Ç —Ç–µ–ø–ª–æ, –Ω–æ –Ω–µ –≤—ã–ø—É—Å–∫–∞—é—Ç –µ–≥–æ –æ–±—Ä–∞—Ç–Ω–æ.</p>
        <div class="video-wrapper">
            <iframe width="560" height="315" src="https://www.youtube.com/embed/rgtIuUSeuDE?si=Dqwl7PQJyDUInrJI" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
        </div>
    </section>

    <section>
        <h2>üîó –ù–∞–π–¥–∏ —Å–≤—è–∑—å</h2>
        <p>–ù–∞–π–¥–∏—Ç–µ –ø–∞—Ä—ã: <b>–ü—Ä–∏—á–∏–Ω–∞</b> (–∫—Ä–∞—Å–Ω—ã–π) –∏ –µ—ë <b>–ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏–µ</b> (—Å–∏–Ω–∏–π). –ö–ª–∏–∫–∞–π—Ç–µ –ø–æ –æ—á–µ—Ä–µ–¥–∏.</p>
        <div class="pairs-grid" id="pairsGame">
            </div>
        <p id="pairsMsg" style="text-align:center; font-weight:bold; height:20px; color:var(--earth);"></p>
    </section>

    <section id="worksheets-container">
        <h2>üìù –†–∞–±–æ—á–∏–µ –ª–∏—Å—Ç—ã (Word)</h2>
        <p>–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ –∏ —Å–∫–∞—á–∞–π—Ç–µ —Ñ–∞–π–ª –¥–ª—è –¥–æ–º–∞—à–Ω–µ–≥–æ –∑–∞–¥–∞–Ω–∏—è.</p>

        <details class="worksheet" open>
            <summary class="worksheet-header">üî• –õ–ò–°–¢ 1 ‚Äî ¬´–ü—Ä–∏—á–∏–Ω—ã –∏ –ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è¬ª</summary>
            <div class="sheet-content">
                <table class="sheet-table">
                    <tr><th>–ü—Ä–∏—á–∏–Ω–∞</th><th>–ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏–µ</th><th>–í–ª–∏—è–Ω–∏–µ –Ω–∞ –ª—é–¥–µ–π</th></tr>
                    <tr><td>–í—ã–±—Ä–æ—Å—ã CO‚ÇÇ</td><td><input type="text" value="–ü–∞—Ä–Ω–∏–∫–æ–≤—ã–π —ç—Ñ—Ñ–µ–∫—Ç"></td><td><input type="text"></td></tr>
                    <tr><td>–í—ã—Ä—É–±–∫–∞ –ª–µ—Å–æ–≤</td><td><input type="text"></td><td><input type="text"></td></tr>
                    <tr><td>–¢–∞—è–Ω–∏–µ –ª—å–¥–æ–≤</td><td><input type="text" value="–ü–æ–≤—ã—à–µ–Ω–∏–µ —É—Ä–æ–≤–Ω—è –º–æ—Ä—è"></td><td><input type="text"></td></tr>
                </table>
            </div>
        </details>

        <details class="worksheet">
            <summary class="worksheet-header">üå¶Ô∏è –õ–ò–°–¢ 2 ‚Äî ¬´–ü–æ–≥–æ–¥–∞/–ö–ª–∏–º–∞—Ç¬ª</summary>
            <div class="sheet-content">
                <p>–û–ø—Ä–µ–¥–µ–ª–∏ (–Ω–∞–ø–∏—à–∏ –ü –∏–ª–∏ –ö):</p>
                <div style="display:grid; gap:10px;">
                    <label>¬´–í –∏—é–ª–µ –æ–±—ã—á–Ω–æ –∂–∞—Ä–∫–æ¬ª: <input type="text" class="sheet-input" style="width:50px"></label>
                    <label>¬´–°–µ–≥–æ–¥–Ω—è –∏–¥—ë—Ç —Å–Ω–µ–≥¬ª: <input type="text" class="sheet-input" style="width:50px"></label>
                    <label>¬´–ó–∏–º—ã —Å—Ç–∞–ª–∏ —Ç–µ–ø–ª–µ–µ¬ª: <input type="text" class="sheet-input" style="width:50px"></label>
                </div>
            </div>
        </details>

        <details class="worksheet">
            <summary class="worksheet-header">üèòÔ∏è –õ–ò–°–¢ 3 ‚Äî ¬´–ê–¥–∞–ø—Ç–∞—Ü–∏—è¬ª</summary>
            <div class="sheet-content">
                <p>–ö–∞–∫ –Ω–∞–º –ø—Ä–∏—Å–ø–æ—Å–æ–±–∏—Ç—å—Å—è –∫ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º? (5 —Å–ø–æ—Å–æ–±–æ–≤)</p>
                <textarea class="sheet-area" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –°–∞–∂–∞—Ç—å –±–æ–ª—å—à–µ –¥–µ—Ä–µ–≤—å–µ–≤ –≤ –≥–æ—Ä–æ–¥–µ..."></textarea>
            </div>
        </details>

        <details class="worksheet">
            <summary class="worksheet-header">üë£ –õ–ò–°–¢ 4 ‚Äî ¬´–ú–æ–π —ç–∫–æ-—Å–ª–µ–¥¬ª</summary>
            <div class="sheet-content">
                <table class="sheet-table">
                    <tr><th>–ü—Ä–∏–≤—ã—á–∫–∞</th><th>–ö–∞–∫ —Å–¥–µ–ª–∞—Ç—å —ç–∫–æ–ª–æ–≥–∏—á–Ω–µ–µ?</th></tr>
                    <tr><td>–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç</td><td><input type="text" placeholder="–•–æ–¥–∏—Ç—å –ø–µ—à–∫–æ–º"></td></tr>
                    <tr><td>–≠–ª–µ–∫—Ç—Ä–∏—á–µ—Å—Ç–≤–æ</td><td><input type="text" placeholder="–í—ã–∫–ª—é—á–∞—Ç—å —Å–≤–µ—Ç"></td></tr>
                    <tr><td>–ü–∏—Ç–∞–Ω–∏–µ</td><td><input type="text"></td></tr>
                </table>
            </div>
        </details>

        <button class="btn-download" onclick="generateAndDownloadWord()">üì• –°–∫–∞—á–∞—Ç—å –≤—Å–µ –ª–∏—Å—Ç—ã (Word)</button>
    </section>

    <section>
        <h2>üß† –¢–µ—Å—Ç: –ö–ª–∏–º–∞—Ç–æ–ª–æ–≥</h2>
        <form id="quizForm">
            <div class="quiz-item">1. –ö–ª–∏–º–∞—Ç ‚Äî —ç—Ç–æ: <br><input type="radio" name="q1" value="b"> –°—Ä–µ–¥–Ω–∏–µ —É—Å–ª–æ–≤–∏—è –∑–∞ –≥–æ–¥—ã <input type="radio" name="q1" value="a"> –ü–æ–≥–æ–¥–∞ —Å–µ–π—á–∞—Å</div>
            <div class="quiz-item">2. –ü–∞—Ä–Ω–∏–∫–æ–≤—ã–π –≥–∞–∑: <br><input type="radio" name="q2" value="b"> –£–≥–ª–µ–∫–∏—Å–ª—ã–π –≥–∞–∑ (CO‚ÇÇ) <input type="radio" name="q2" value="a"> –ö–∏—Å–ª–æ—Ä–æ–¥</div>
            <div class="quiz-item">3. –¢–∞—è–Ω–∏–µ –ª–µ–¥–Ω–∏–∫–æ–≤ –≥—Ä–æ–∑–∏—Ç: <br><input type="radio" name="q3" value="a"> –ü–æ–≤—ã—à–µ–Ω–∏–µ–º —É—Ä–æ–≤–Ω—è –º–æ—Ä—è <input type="radio" name="q3" value="b"> –ó–∞—Å—É—Ö–æ–π</div>
            <div class="quiz-item">4. –ö–∞–∫ –ø–æ–º–æ—á—å –∫–ª–∏–º–∞—Ç—É? <br><input type="radio" name="q4" value="b"> –≠–∫–æ–Ω–æ–º–∏—Ç—å —Ä–µ—Å—É—Ä—Å—ã <input type="radio" name="q4" value="a"> –°–∂–∏–≥–∞—Ç—å –±–æ–ª—å—à–µ —É–≥–ª—è</div>
            <button type="button" class="btn-check" onclick="checkQuiz()">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å</button>
            <p id="quiz-result" style="font-weight:bold; margin-top:10px;"></p>
        </form>
    </section>

    <section>
        <h2>üå± –ú–æ—ë –º–∞–ª–µ–Ω—å–∫–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ</h2>
        <p>–ó–∞–∫–æ–Ω—á–∏ —Ñ—Ä–∞–∑—É: ¬´–ß—Ç–æ–±—ã –ø–æ–º–æ—á—å –ø–ª–∞–Ω–µ—Ç–µ, —è –º–æ–≥—É...¬ª</p>
        <div class="action-box">
            <input type="text" id="actionInput" class="sheet-input" placeholder="–ù–∞–ø–∏—à–∏ –¥–µ–π—Å—Ç–≤–∏–µ...">
            <button class="action-btn" onclick="addAction()">–î–æ–±–∞–≤–∏—Ç—å</button>
        </div>
        <div id="actionList" class="action-list"></div>
    </section>
</div>

<script>
    // --- –ò–ì–†–ê 1: –ü–æ–≥–æ–¥–∞/–ö–ª–∏–º–∞—Ç ---
    const wcData = [
        { t: "–ò–¥–µ—Ç –¥–æ–∂–¥—å", type: "weather" },
        { t: "–ó–∏–º—ã —Å—Ç–∞–ª–∏ —Ç–µ–ø–ª–µ–µ", type: "climate" },
        { t: "–ó–∞–≤—Ç—Ä–∞ –±—É–¥–µ—Ç +20¬∞C", type: "weather" },
        { t: "–í –ø—É—Å—Ç—ã–Ω–µ –≤—Å–µ–≥–¥–∞ —Å—É—Ö–æ", type: "climate" },
        { t: "–î—É–µ—Ç —Å–∏–ª—å–Ω—ã–π –≤–µ—Ç–µ—Ä", type: "weather" }
    ];
    let wcIdx = 0;

    function renderWC() {
        if(wcIdx < wcData.length) {
            document.getElementById('wcText').innerText = `¬´${wcData[wcIdx].t}¬ª`;
            document.getElementById('wcMsg').innerText = "";
        } else {
            document.getElementById('wcText').innerText = "–û—Ç–ª–∏—á–Ω–æ! –¢–µ—Å—Ç –ø—Ä–æ–π–¥–µ–Ω.";
            document.querySelector('.wc-buttons').style.display = "none";
        }
    }
    
    function checkWC(choice) {
        if(choice === wcData[wcIdx].type) {
            document.getElementById('wcMsg').innerText = "–í–µ—Ä–Ω–æ! ‚úÖ";
            document.getElementById('wcMsg').style.color = "green";
            wcIdx++;
            setTimeout(renderWC, 1000);
        } else {
            document.getElementById('wcMsg').innerText = "–û—à–∏–±–∫–∞ ‚ùå";
            document.getElementById('wcMsg').style.color = "red";
        }
    }
    renderWC();

    // --- –ò–ì–†–ê 2: –°–≤—è–∑–∏ (Memory style) ---
    const pairs = [
        { id: 1, text: "–í—ã–±—Ä–æ—Å—ã CO‚ÇÇ", type: "cause", match: 1 },
        { id: 2, text: "–ü–∞—Ä–Ω–∏–∫–æ–≤—ã–π —ç—Ñ—Ñ–µ–∫—Ç", type: "effect", match: 1 },
        { id: 3, text: "–¢–∞—è–Ω–∏–µ –ª—å–¥–æ–≤", type: "cause", match: 2 },
        { id: 4, text: "–ü–æ–¥—ä–µ–º —É—Ä–æ–≤–Ω—è –º–æ—Ä—è", type: "effect", match: 2 },
        { id: 5, text: "–í—ã—Ä—É–±–∫–∞ –ª–µ—Å–æ–≤", type: "cause", match: 3 },
        { id: 6, text: "–ò—Å—á–µ–∑–Ω–æ–≤–µ–Ω–∏–µ –≤–∏–¥–æ–≤", type: "effect", match: 3 }
    ];
    
    // –ü–µ—Ä–µ–º–µ—à–∏–≤–∞–Ω–∏–µ
    pairs.sort(() => Math.random() - 0.5);

    const grid = document.getElementById('pairsGame');
    let selected = null;

    pairs.forEach(p => {
        const card = document.createElement('div');
        card.className = 'pair-card';
        card.innerText = (p.type === 'cause' ? 'üî• ' : 'üåä ') + p.text;
        card.dataset.id = p.id;
        card.dataset.match = p.match;
        
        card.onclick = () => {
            if(card.classList.contains('matched')) return;

            if(!selected) {
                // –ü–µ—Ä–≤–æ–µ –Ω–∞–∂–∞—Ç–∏–µ
                selected = card;
                card.classList.add('selected');
            } else {
                // –í—Ç–æ—Ä–æ–µ –Ω–∞–∂–∞—Ç–∏–µ
                if(selected === card) {
                    selected.classList.remove('selected');
                    selected = null;
                    return;
                }

                if(selected.dataset.match === card.dataset.match) {
                    // –°–æ–≤–ø–∞–¥–µ–Ω–∏–µ
                    selected.classList.remove('selected');
                    selected.classList.add('matched');
                    card.classList.add('matched');
                    document.getElementById('pairsMsg').innerText = "–°–≤—è–∑—å –Ω–∞–π–¥–µ–Ω–∞!";
                    selected = null;
                } else {
                    // –û—à–∏–±–∫–∞
                    selected.classList.remove('selected');
                    document.getElementById('pairsMsg').innerText = "–ù–µ—Ç —Å–≤—è–∑–∏";
                    selected = null;
                }
            }
        };
        grid.appendChild(card);
    });

    // --- WORD ---
    function generateAndDownloadWord() {
        const container = document.getElementById('worksheets-container');
        const clone = container.cloneNode(true);
        clone.querySelector('button').remove(); clone.querySelector('h2').remove(); clone.querySelector('p').remove();
        
        clone.querySelectorAll('input, textarea').forEach(input => {
            const span = document.createElement('span');
            span.style.color = 'blue'; span.style.fontWeight = 'bold';
            span.innerText = input.value || "______________________";
            input.replaceWith(span);
        });

        clone.querySelectorAll('details').forEach(det => {
            const title = det.querySelector('summary').innerText;
            const div = document.createElement('div');
            div.innerHTML = `<h3 style="background:#eee; border-bottom:1px solid #000; padding:5px;">${title}</h3>` + det.querySelector('.sheet-content').innerHTML;
            det.replaceWith(div);
        });

        const header = "<html xmlns:o='urn:schemas-microsoft-com:office:office' xmlns:w='urn:schemas-microsoft-com:office:word' xmlns='http://www.w3.org/TR/REC-html40'><head><meta charset='utf-8'><title>–û—Ç—á–µ—Ç</title></head><body>";
        const footer = "</body></html>";
        const content = `<h1 style="text-align:center;color:#d32f2f">–ö–ª–∏–º–∞—Ç–∏—á–µ—Å–∫–∏–π –æ—Ç—á–µ—Ç</h1>` + clone.innerHTML;
        
        const blob = new Blob(['\ufeff', header + content + footer], { type: 'application/msword' });
        const url = URL.createObjectURL(blob);
        const link = document.createElement('a'); link.href = url; link.download = '–ú–æ–π_–ö–ª–∏–º–∞—Ç_–£—Ä–æ–∫_15.doc';
        document.body.appendChild(link); link.click(); document.body.removeChild(link);
    }

    // --- –¢–ï–°–¢ ---
    function checkQuiz() {
        const form = document.getElementById('quizForm');
        let score = 0;
        if(form.q1.value === 'b') score++;
        if(form.q2.value === 'b') score++;
        if(form.q3.value === 'a') score++;
        if(form.q4.value === 'b') score++;
        const res = document.getElementById('quiz-result');
        res.innerText = `–†–µ–∑—É–ª—å—Ç–∞—Ç: ${score}/4. ` + (score===4 ? "–≠–∫—Å–ø–µ—Ä—Ç!" : "–ò–∑—É—á–∏ —Ç–µ–º—É.");
        res.style.color = score===4 ? "green" : "red";
    }

    // --- –†–ï–§–õ–ï–ö–°–ò–Ø ---
    function addAction() {
        const input = document.getElementById('actionInput');
        const text = input.value.trim();
        if(text) {
            const list = document.getElementById('actionList');
            const item = document.createElement('div');
            item.className = 'action-item';
            item.innerText = "üåç " + text;
            list.prepend(item);
            input.value = '';
        }
    }
</script>

</body>
</html>