<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–£—Ä–æ–∫ 16: –≠–∫–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        :root {
            --primary: #00897b; /* –õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω—ã–π –±–∏—Ä—é–∑–æ–≤—ã–π */
            --dark: #004d40;
            --accent: #80cbc4;
            --bg: #e0f2f1;
            --white: #ffffff;
            --danger: #e53935;
            --success: #43a047;
            --warning: #fdd835;
        }

        body { 
            font-family: 'Segoe UI', system-ui, sans-serif; 
            line-height: 1.6; 
            color: #333; 
            background-color: var(--bg); 
            margin: 0; 
            background-image: url('data:image/svg+xml;utf8,<svg width="40" height="40" viewBox="0 0 40 40" xmlns="http://www.w3.org/2000/svg"><circle cx="20" cy="20" r="1.5" fill="%23b2dfdb"/></svg>');
        }

        header { 
            background: linear-gradient(135deg, var(--dark), var(--primary)); 
            color: white; 
            padding: 25px 5%; 
            display: flex; 
            justify-content: space-between; 
            align-items: center;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            border-radius: 0 0 20px 20px;
        }

        .back-btn { 
            color: white; text-decoration: none; font-weight: bold; 
            border: 2px solid rgba(255,255,255,0.7); padding: 8px 20px; 
            border-radius: 25px; transition: 0.3s;
        }
        .back-btn:hover { background: white; color: var(--dark); }

        .content { max-width: 1000px; margin: 40px auto; padding: 0 20px; }

        section { 
            background: var(--white); padding: 30px; border-radius: 20px; 
            margin-bottom: 30px; box-shadow: 0 10px 25px rgba(0,0,0,0.05);
            border-top: 5px solid var(--primary);
        }

        h2 { color: var(--dark); border-bottom: 2px solid var(--accent); padding-bottom: 10px; display: inline-block; margin-top: 0; }
        h3 { color: var(--primary); margin-top: 20px; }

        /* –ò–ì–†–ê 1: –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã */
        .match-game { display: flex; flex-direction: column; gap: 15px; }
        .match-row { display: flex; justify-content: center; gap: 20px; flex-wrap: wrap; }
        .match-item { 
            padding: 10px 20px; border: 2px solid #ccc; border-radius: 10px; 
            cursor: pointer; background: white; transition: 0.2s; font-weight: bold;
        }
        .match-item.selected { border-color: var(--primary); background: #b2dfdb; }
        .match-item.correct { border-color: var(--success); background: #c8e6c9; cursor: default; }
        .match-item.wrong { border-color: var(--danger); background: #ffcdd2; }

        /* –õ–ê–ë–û–†–ê–¢–û–†–ò–Ø */
        .lab-container { display: flex; flex-wrap: wrap; gap: 20px; }
        .lab-card { 
            flex: 1; min-width: 250px; background: #fafafa; border: 1px solid #ddd; 
            padding: 20px; border-radius: 15px; border-left: 5px solid var(--primary);
        }
        .lab-display { 
            background: #263238; color: #00e676; font-family: 'Courier New', monospace; 
            padding: 15px; border-radius: 5px; margin: 15px 0; text-align: center; font-size: 1.2rem;
        }
        .lab-input { width: 80%; padding: 10px; border: 2px solid #ccc; border-radius: 5px; margin-bottom: 10px; font-size: 1rem; }
        .btn-analyze { background: var(--primary); color: white; border: none; padding: 10px 20px; border-radius: 5px; cursor: pointer; width: 100%; font-weight: bold; }
        .btn-analyze:hover { background: var(--dark); }
        .lab-result { margin-top: 15px; font-weight: bold; padding: 10px; border-radius: 5px; display: none; }

        /* –í–ò–î–ï–û */
        .video-wrapper { border-radius: 15px; overflow: hidden; position: relative; padding-bottom: 56.25%; height: 0; margin: 20px 0; border: 4px solid var(--dark); }
        .video-wrapper iframe { position: absolute; top: 0; left: 0; width: 100%; height: 100%; }

        /* –†–ê–ë–û–ß–ò–ï –õ–ò–°–¢–´ */
        details.worksheet { background: var(--white); border: 1px solid #ccc; border-radius: 8px; margin-bottom: 15px; overflow: hidden; }
        summary.worksheet-header { background: #b2dfdb; padding: 15px; cursor: pointer; font-weight: bold; color: var(--dark); list-style: none; display: flex; justify-content: space-between; align-items: center; }
        summary.worksheet-header:hover { background: #80cbc4; }
        summary.worksheet-header::after { content: '‚ñº'; font-size: 0.8em; }
        details[open] summary.worksheet-header::after { content: '‚ñ≤'; }
        .sheet-content { padding: 20px; border-top: 1px solid #eee; background: #fff; }
        .sheet-input { border: none; border-bottom: 2px solid #aaa; background: #f9f9f9; width: 100%; padding: 5px; margin-bottom: 5px; }
        table.sheet-table { width: 100%; border-collapse: collapse; margin: 15px 0; font-size: 0.9rem; }
        table.sheet-table th, table.sheet-table td { border: 1px solid #aaa; padding: 8px; text-align: left; vertical-align: top; }
        table.sheet-table th { background: #eee; }
        table.sheet-table input { width: 95%; border: none; background: transparent; padding: 5px; }
        .checkbox-group label { display: block; margin: 5px 0; cursor: pointer; }
        .btn-download { background: var(--dark); color: white; border: none; padding: 15px 30px; border-radius: 30px; cursor: pointer; width: 100%; font-size: 1.1rem; font-weight: bold; margin-top: 20px; transition: 0.3s; }
        .btn-download:hover { background: var(--primary); transform: translateY(-2px); }

        /* –¢–ï–°–¢ */
        .quiz-item { margin-bottom: 15px; padding: 15px; background: #e0f7fa; border-radius: 10px; border-left: 4px solid var(--primary); }
        .btn-check { background: var(--primary); color: white; border: none; padding: 10px 25px; border-radius: 20px; cursor: pointer; }

        /* –†–ï–§–õ–ï–ö–°–ò–Ø */
        .scientist-box { text-align: center; }
        .scientist-input { width: 80%; padding: 15px; border: 2px solid var(--accent); border-radius: 10px; margin-bottom: 15px; }
    </style>
</head>
<body>

<header>
    <a href="../index.html" class="back-btn">‚Üê –ú–µ–Ω—é</a>
    <div style="text-align: right">
        <h1 style="margin:0; font-size: 1.5rem;">–≠–∫–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥</h1>
        <small>–£—Ä–æ–∫ ‚Ññ16</small>
    </div>
</header>

<div class="content">
    
    <section>
        <h2>üî¨ –ü—É–ª—å—Å –ø–ª–∞–Ω–µ—Ç—ã</h2>
        <p><i>–í–æ–ø—Ä–æ—Å:</i> –ö–∞–∫ –º—ã —É–∑–Ω–∞–µ–º, —á—Ç–æ –≤–æ–∑–¥—É—Ö —á–∏—Å—Ç—ã–π, –∞ –≤–æ–¥—É –º–æ–∂–Ω–æ –ø–∏—Ç—å? –ù–∞ –≥–ª–∞–∑ —ç—Ç–æ –Ω–µ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å. –ù—É–∂–Ω—ã –ø—Ä–∏–±–æ—Ä—ã!</p>
        <div style="background: #b2dfdb; padding: 15px; border-radius: 10px; border-left: 5px solid var(--dark);">
            <strong>–¶–µ–ª—å:</strong> –ù–∞—É—á–∏—Ç—å—Å—è —Ä–∞–±–æ—Ç–∞—Ç—å —Å —ç–∫–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–º–∏ –¥–∞–Ω–Ω—ã–º–∏ –∏ –¥–µ–ª–∞—Ç—å –≤—ã–≤–æ–¥—ã –∫–∞–∫ —É—á—ë–Ω—ã–µ.
        </div>
    </section>

    <section>
        <h2>üß© –ò–≥—Ä–∞ ¬´–£–≥–∞–¥–∞–π –ø–æ–∫–∞–∑–∞—Ç–µ–ª—å¬ª</h2>
        <p>–°–æ–µ–¥–∏–Ω–∏—Ç–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª—å —Å —Ç–µ–º, —á—Ç–æ –æ–Ω –∏–∑–º–µ—Ä—è–µ—Ç (–Ω–∞–∂–º–∏—Ç–µ –Ω–∞ –ø–∞—Ä—É):</p>
        <div class="match-game">
            <div class="match-row" id="indicators">
                <div class="match-item" onclick="selectItem(this, 'ind')" data-pair="1">PM2.5 üå´Ô∏è</div>
                <div class="match-item" onclick="selectItem(this, 'ind')" data-pair="2">pH üß™</div>
                <div class="match-item" onclick="selectItem(this, 'ind')" data-pair="3">–î–µ—Ü–∏–±–µ–ª (–¥–ë) üîä</div>
            </div>
            <div class="match-row" id="meanings">
                <div class="match-item" onclick="selectItem(this, 'mean')" data-pair="3">–®—É–º</div>
                <div class="match-item" onclick="selectItem(this, 'mean')" data-pair="1">–ü—ã–ª—å –≤ –≤–æ–∑–¥—É—Ö–µ</div>
                <div class="match-item" onclick="selectItem(this, 'mean')" data-pair="2">–ö–∏—Å–ª–æ—Ç–Ω–æ—Å—Ç—å –≤–æ–¥—ã</div>
            </div>
        </div>
        <p id="matchMsg" style="text-align:center; height:20px; font-weight:bold;"></p>
    </section>

    <section>
        <h2>üìö –ß—Ç–æ —Ç–∞–∫–æ–µ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥?</h2>
        <p>–≠—Ç–æ —Ä–µ–≥—É–ª—è—Ä–Ω–æ–µ –Ω–∞–±–ª—é–¥–µ–Ω–∏–µ –∑–∞ –ø—Ä–∏—Ä–æ–¥–æ–π. –ö–∞–∫ –≤—Ä–∞—á–∏ —Å–ª–µ–¥—è—Ç –∑–∞ –∑–¥–æ—Ä–æ–≤—å–µ–º –ø–∞—Ü–∏–µ–Ω—Ç–∞, —ç–∫–æ–ª–æ–≥–∏ —Å–ª–µ–¥—è—Ç –∑–∞ –∑–¥–æ—Ä–æ–≤—å–µ–º –ó–µ–º–ª–∏.</p>
        
        <div class="video-wrapper">
            <iframe src="https://www.youtube.com/embed/5yZlVq2W9-I" title="–≠–∫–æ–º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥" frameborder="0" allowfullscreen></iframe>
        </div>
    </section>

    <section>
        <h2>ü•º –ú–∏–Ω–∏-–õ–∞–±–æ—Ä–∞—Ç–æ—Ä–∏—è</h2>
        <p>–í–≤–µ–¥–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ —Å –∫–∞—Ä—Ç–æ—á–µ–∫, —á—Ç–æ–±—ã –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å–∏—Ç—É–∞—Ü–∏—é.</p>
        
        <div class="lab-container">
            <div class="lab-card">
                <h3>üí® –í–æ–∑–¥—É—Ö (PM2.5)</h3>
                <p><i>–î–∞–Ω–Ω—ã–µ —Å –¥–∞—Ç—á–∏–∫–∞: 75 –º–∫–≥/–º¬≥</i></p>
                <div class="lab-display">75.0</div>
                <label>–í–≤–µ–¥–∏—Ç–µ –∑–Ω–∞—á–µ–Ω–∏–µ:</label>
                <input type="number" id="airInput" class="lab-input" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: 75">
                <button class="btn-analyze" onclick="analyze('air')">–ê–Ω–∞–ª–∏–∑</button>
                <div id="airResult" class="lab-result"></div>
            </div>

            <div class="lab-card">
                <h3>üíß –í–æ–¥–∞ (pH)</h3>
                <p><i>–î–∞–Ω–Ω—ã–µ —Å –¥–∞—Ç—á–∏–∫–∞: 5.2</i></p>
                <div class="lab-display">5.2</div>
                <label>–í–≤–µ–¥–∏—Ç–µ –∑–Ω–∞—á–µ–Ω–∏–µ:</label>
                <input type="number" id="waterInput" class="lab-input" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: 5.2">
                <button class="btn-analyze" onclick="analyze('water')">–ê–Ω–∞–ª–∏–∑</button>
                <div id="waterResult" class="lab-result"></div>
            </div>

            <div class="lab-card">
                <h3>üîä –®—É–º (–¥–ë)</h3>
                <p><i>–£—Ä–æ–≤–µ–Ω—å —É –¥–æ—Ä–æ–≥–∏: 90 –¥–ë</i></p>
                <div class="lab-display">90</div>
                <label>–í–≤–µ–¥–∏—Ç–µ –∑–Ω–∞—á–µ–Ω–∏–µ:</label>
                <input type="number" id="noiseInput" class="lab-input" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: 90">
                <button class="btn-analyze" onclick="analyze('noise')">–ê–Ω–∞–ª–∏–∑</button>
                <div id="noiseResult" class="lab-result"></div>
            </div>
        </div>
    </section>

    <section id="worksheets-container">
        <h2>üìù –û—Ç—á–µ—Ç –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ (Word)</h2>
        <p>–ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏ —Å–∫–∞—á–∞–π—Ç–µ –æ—Ç—á–µ—Ç.</p>

        <details class="worksheet" open>
            <summary class="worksheet-header">üìä –õ–ò–°–¢ 1 ‚Äî ¬´–ê–Ω–∞–ª–∏–∑ –¥–∞–Ω–Ω—ã—Ö¬ª</summary>
            <div class="sheet-content">
                <table class="sheet-table">
                    <tr><th>–ü–æ–∫–∞–∑–∞—Ç–µ–ª—å</th><th>–ó–Ω–∞—á–µ–Ω–∏–µ</th><th>–ù–æ—Ä–º–∞</th><th>–í—ã–≤–æ–¥</th></tr>
                    <tr><td>PM2.5 (–í–æ–∑–¥—É—Ö)</td><td><input type="text" id="w_air_val"></td><td>35</td><td><input type="text" id="w_air_res"></td></tr>
                    <tr><td>pH (–í–æ–¥–∞)</td><td><input type="text" id="w_water_val"></td><td>6.5 - 8.5</td><td><input type="text" id="w_water_res"></td></tr>
                    <tr><td>–®—É–º (–¥–ë)</td><td><input type="text" id="w_noise_val"></td><td>55</td><td><input type="text" id="w_noise_res"></td></tr>
                </table>
            </div>
        </details>

        <details class="worksheet">
            <summary class="worksheet-header">üè´ –õ–ò–°–¢ 2 ‚Äî ¬´–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∫–æ–ª–ª–µ–¥–∂–∞¬ª</summary>
            <div class="sheet-content">
                <div class="checkbox-group">
                    <p>–ß—Ç–æ –≤—ã –≤–∏–¥–∏—Ç–µ –≤–æ–∫—Ä—É–≥?</p>
                    <label><input type="checkbox"> –ú—É—Å–æ—Ä –Ω–∞ —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏–∏</label>
                    <label><input type="checkbox"> –®—É–º –æ—Ç –º–∞—à–∏–Ω</label>
                    <label><input type="checkbox"> –ú–∞–ª–æ –¥–µ—Ä–µ–≤—å–µ–≤</label>
                    <label><input type="checkbox"> –ó–∞–ø–∞—Ö –≥–∞—Ä–∏</label>
                    <label><input type="checkbox"> –ß–∏—Å—Ç–æ –∏ —Ç–∏—Ö–æ</label>
                </div>
                <p>–û–±—â–∏–π –≤—ã–≤–æ–¥:</p>
                <textarea class="sheet-area" placeholder="–°–æ—Å—Ç–æ—è–Ω–∏–µ —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏–∏..."></textarea>
            </div>
        </details>

        <details class="worksheet">
            <summary class="worksheet-header">üõ°Ô∏è –õ–ò–°–¢ 4 ‚Äî ¬´–ú–µ—Ä—ã —É–ª—É—á—à–µ–Ω–∏—è¬ª</summary>
            <div class="sheet-content">
                <p>–ü—Ä–µ–¥–ª–æ–∂–∏ 3 –º–µ—Ä—ã –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è —Å–∏—Ç—É–∞—Ü–∏–∏:</p>
                <input type="text" class="sheet-input" placeholder="1. ..."><br>
                <input type="text" class="sheet-input" placeholder="2. ..."><br>
                <input type="text" class="sheet-input" placeholder="3. ...">
            </div>
        </details>

        <button class="btn-download" onclick="generateAndDownloadWord()">üì• –°–∫–∞—á–∞—Ç—å –æ—Ç—á–µ—Ç (Word)</button>
    </section>

    <section>
        <h2>üß† –¢–µ—Å—Ç: –õ–∞–±–æ—Ä–∞–Ω—Ç</h2>
        <form id="quizForm">
            <div class="quiz-item">1. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ ‚Äî —ç—Ç–æ: <br><input type="radio" name="q1" value="b"> –ù–∞–±–ª—é–¥–µ–Ω–∏–µ –∑–∞ —Å—Ä–µ–¥–æ–π <input type="radio" name="q1" value="a"> –£–±–æ—Ä–∫–∞ –º—É—Å–æ—Ä–∞</div>
            <div class="quiz-item">2. PM2.5 –∏–∑–º–µ—Ä—è–µ—Ç: <br><input type="radio" name="q2" value="a"> –ú–µ–ª–∫–∏–µ —á–∞—Å—Ç–∏—Ü—ã <input type="radio" name="q2" value="b"> –ö–∏—Å–ª–æ—Ç—É</div>
            <div class="quiz-item">3. –ö—Ç–æ –ø—Ä–æ–≤–æ–¥–∏—Ç –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥? <br><input type="radio" name="q3" value="b"> –≠–∫–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–µ —Å–ª—É–∂–±—ã <input type="radio" name="q3" value="a"> –¢—É—Ä–∏—Å—Ç—ã</div>
            <div class="quiz-item">4. pH –≤–æ–¥—ã 5.2 —ç—Ç–æ: <br><input type="radio" name="q4" value="b"> –ö–∏—Å–ª–∞—è —Å—Ä–µ–¥–∞ (–ø–ª–æ—Ö–æ) <input type="radio" name="q4" value="a"> –ù–æ—Ä–º–∞</div>
            <button type="button" class="btn-check" onclick="checkQuiz()">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å</button>
            <p id="quiz-result" style="font-weight:bold; margin-top:10px;"></p>
        </form>
    </section>

    <section>
        <h2>üë®‚Äçüî¨ –ï—Å–ª–∏ –±—ã —è –±—ã–ª —É—á—ë–Ω—ã–º...</h2>
        <div class="scientist-box">
            <p>–ù–∞–ø–∏—à–∏—Ç–µ, –∫–∞–∫—É—é —ç–∫–æ–ª–æ–≥–∏—á–µ—Å–∫—É—é –ø—Ä–æ–±–ª–µ–º—É –≤—ã –±—ã –∏–∑—É—á–∏–ª–∏ –≤ –ø–µ—Ä–≤—É—é –æ—á–µ—Ä–µ–¥—å:</p>
            <textarea id="reflectionInput" class="scientist-input" placeholder="–Ø –±—ã –∏–∑—É—á–∏–ª..."></textarea>
            <button class="btn-analyze" style="width:200px" onclick="saveReflection()">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –º—ã—Å–ª—å</button>
            <p id="reflectionMsg" style="color:green; margin-top:10px;"></p>
        </div>
    </section>
</div>

<script>
    // --- –ò–ì–†–ê 1: –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã ---
    let selectedInd = null;
    let selectedMean = null;

    function selectItem(el, type) {
        // –°–±—Ä–æ—Å –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ –≤—ã–±–æ—Ä–∞ –≤ —ç—Ç–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
        const container = type === 'ind' ? document.getElementById('indicators') : document.getElementById('meanings');
        Array.from(container.children).forEach(child => {
            if(!child.classList.contains('correct')) child.classList.remove('selected');
        });

        if(el.classList.contains('correct')) return;

        el.classList.add('selected');
        if(type === 'ind') selectedInd = el; else selectedMean = el;

        checkMatch();
    }

    function checkMatch() {
        if(selectedInd && selectedMean) {
            if(selectedInd.dataset.pair === selectedMean.dataset.pair) {
                // –í–µ—Ä–Ω–æ
                selectedInd.classList.add('correct'); selectedInd.classList.remove('selected');
                selectedMean.classList.add('correct'); selectedMean.classList.remove('selected');
                document.getElementById('matchMsg').innerText = "–í–µ—Ä–Ω–æ!";
                document.getElementById('matchMsg').style.color = "green";
            } else {
                // –û—à–∏–±–∫–∞
                document.getElementById('matchMsg').innerText = "–ù–µ –ø–æ–¥—Ö–æ–¥–∏—Ç...";
                document.getElementById('matchMsg').style.color = "red";
                setTimeout(() => {
                    selectedInd.classList.remove('selected');
                    selectedMean.classList.remove('selected');
                    selectedInd = null; selectedMean = null;
                }, 500);
            }
            // –°–±—Ä–æ—Å –µ—Å–ª–∏ –≤–µ—Ä–Ω–æ, –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–±–Ω—É–ª—è–µ–º
            if(selectedInd && selectedInd.classList.contains('correct')) {
                selectedInd = null; selectedMean = null;
            }
        }
    }

    // --- –õ–ê–ë–û–†–ê–¢–û–†–ò–Ø (–ê–Ω–∞–ª–∏–∑) ---
    function analyze(type) {
        let val, resDiv, msg, color, statusText;
        
        if(type === 'air') {
            val = parseFloat(document.getElementById('airInput').value);
            resDiv = document.getElementById('airResult');
            // –ê–≤—Ç–æ–∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ Word
            document.getElementById('w_air_val').value = val;
            
            if(val > 35) { msg = "–û–ü–ê–°–ù–û! –í—ã—Å–æ–∫–æ–µ –∑–∞–≥—Ä—è–∑–Ω–µ–Ω–∏–µ."; color = "#ffcdd2"; statusText = "–û–ø–∞—Å–Ω–æ"; }
            else { msg = "–ù–û–†–ú–ê. –í–æ–∑–¥—É—Ö —á–∏—Å—Ç—ã–π."; color = "#c8e6c9"; statusText = "–ù–æ—Ä–º–∞"; }
            document.getElementById('w_air_res').value = statusText;
        } 
        else if(type === 'water') {
            val = parseFloat(document.getElementById('waterInput').value);
            resDiv = document.getElementById('waterResult');
            document.getElementById('w_water_val').value = val;

            if(val < 6.5 || val > 8.5) { msg = "–ü–õ–û–•–û! –í–æ–¥–∞ –∫–∏—Å–ª–∞—è/—â–µ–ª–æ—á–Ω–∞—è."; color = "#ffcdd2"; statusText = "–ó–∞–≥—Ä—è–∑–Ω–µ–Ω–∏–µ"; }
            else { msg = "–ù–û–†–ú–ê. –í–æ–¥–∞ –≤ –ø–æ—Ä—è–¥–∫–µ."; color = "#c8e6c9"; statusText = "–ù–æ—Ä–º–∞"; }
            document.getElementById('w_water_res').value = statusText;
        }
        else if(type === 'noise') {
            val = parseFloat(document.getElementById('noiseInput').value);
            resDiv = document.getElementById('noiseResult');
            document.getElementById('w_noise_val').value = val;

            if(val > 55) { msg = "–®–£–ú–ù–û! –í—Ä–µ–¥ –¥–ª—è —Å–ª—É—Ö–∞."; color = "#ffcdd2"; statusText = "–ü—Ä–µ–≤—ã—à–µ–Ω–∏–µ"; }
            else { msg = "–¢–ò–•–û. –ö–æ–º—Ñ–æ—Ä—Ç–Ω–∞—è —Å—Ä–µ–¥–∞."; color = "#c8e6c9"; statusText = "–ù–æ—Ä–º–∞"; }
            document.getElementById('w_noise_res').value = statusText;
        }

        resDiv.style.display = "block";
        resDiv.style.backgroundColor = color;
        resDiv.innerText = msg;
    }

    // --- WORD ---
    function generateAndDownloadWord() {
        const container = document.getElementById('worksheets-container');
        const clone = container.cloneNode(true);
        clone.querySelector('button').remove(); clone.querySelector('h2').remove(); clone.querySelector('p').remove();
        
        clone.querySelectorAll('input, textarea').forEach(input => {
            const span = document.createElement('span');
            span.style.color = 'blue'; span.style.fontWeight = 'bold';
            if (input.type === 'checkbox') span.innerText = input.checked ? '‚òí ' : '‚òê ';
            else span.innerText = input.value || "______________________";
            input.replaceWith(span);
        });

        clone.querySelectorAll('details').forEach(det => {
            const title = det.querySelector('summary').innerText;
            const div = document.createElement('div');
            div.innerHTML = `<h3 style="background:#eee; border-bottom:1px solid #000; padding:5px;">${title}</h3>` + det.querySelector('.sheet-content').innerHTML;
            det.replaceWith(div);
        });

        const header = "<html xmlns:o='urn:schemas-microsoft-com:office:office' xmlns:w='urn:schemas-microsoft-com:office:word' xmlns='http://www.w3.org/TR/REC-html40'><head><meta charset='utf-8'><title>–û—Ç—á–µ—Ç</title></head><body>";
        const footer = "</body></html>";
        const content = `<h1 style="text-align:center;color:#004d40">–ü—Ä–æ—Ç–æ–∫–æ–ª –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞</h1>` + clone.innerHTML;
        
        const blob = new Blob(['\ufeff', header + content + footer], { type: 'application/msword' });
        const url = URL.createObjectURL(blob);
        const link = document.createElement('a'); link.href = url; link.download = '–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥_–£—Ä–æ–∫_16.doc';
        document.body.appendChild(link); link.click(); document.body.removeChild(link);
    }

    // --- –¢–ï–°–¢ ---
    function checkQuiz() {
        const form = document.getElementById('quizForm');
        let score = 0;
        if(form.q1.value === 'b') score++;
        if(form.q2.value === 'a') score++;
        if(form.q3.value === 'b') score++;
        if(form.q4.value === 'b') score++;
        const res = document.getElementById('quiz-result');
        res.innerText = `–†–µ–∑—É–ª—å—Ç–∞—Ç: ${score}/4. ` + (score===4 ? "–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ!" : "–ü–æ–≤—Ç–æ—Ä–∏ –º–∞—Ç–µ—Ä–∏–∞–ª.");
        res.style.color = score===4 ? "green" : "red";
    }

    // --- –†–ï–§–õ–ï–ö–°–ò–Ø ---
    function saveReflection() {
        const txt = document.getElementById('reflectionInput').value;
        if(txt) {
            document.getElementById('reflectionMsg').innerText = "–ó–∞–ø–∏—Å–∞–Ω–æ –≤ –∂—É—Ä–Ω–∞–ª –Ω–∞–±–ª—é–¥–µ–Ω–∏–π!";
            setTimeout(() => document.getElementById('reflectionMsg').innerText = "", 2000);
        }
    }
</script>

</body>
</html>