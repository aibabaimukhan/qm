<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–£—Ä–æ–∫ 19: –ü—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —ç–∫–æ–ø—Ä–æ–µ–∫—Ç–æ–≤</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        :root {
            --primary: #0277bd; /* –ü—Ä–æ–µ–∫—Ç–Ω—ã–π —Å–∏–Ω–∏–π */
            --dark: #01579b;
            --accent: #e1f5fe;
            --bg: #f5f5f5;
            --white: #ffffff;
            --green: #2e7d32;
            --red: #c62828;
            --text: #333;
        }

        body { 
            font-family: 'Segoe UI', system-ui, sans-serif; 
            line-height: 1.6; 
            color: var(--text); 
            background-color: var(--bg); 
            margin: 0; 
            background-image: radial-gradient(#e0e0e0 1px, transparent 1px);
            background-size: 20px 20px; /* –≠—Ñ—Ñ–µ–∫—Ç –º–∏–ª–ª–∏–º–µ—Ç—Ä–æ–≤–∫–∏ */
        }

        header { 
            background: linear-gradient(135deg, var(--dark), var(--primary)); 
            color: white; 
            padding: 25px 5%; 
            display: flex; 
            justify-content: space-between; 
            align-items: center;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            border-radius: 0 0 20px 20px;
        }

        .back-btn { 
            color: white; text-decoration: none; font-weight: bold; 
            border: 2px solid rgba(255,255,255,0.7); padding: 8px 20px; 
            border-radius: 25px; transition: 0.3s;
        }
        .back-btn:hover { background: white; color: var(--dark); }

        .content { max-width: 1000px; margin: 40px auto; padding: 0 20px; }

        section { 
            background: var(--white); padding: 30px; border-radius: 2px; 
            margin-bottom: 30px; box-shadow: 0 5px 15px rgba(0,0,0,0.05);
            border-top: 4px solid var(--primary);
            position: relative;
        }
        /* –î–µ–∫–æ—Ä "—Å–∫—Ä–µ–ø–∫–∏" */
        section::before {
            content: ''; position: absolute; top: -10px; left: 50%; transform: translateX(-50%);
            width: 60px; height: 15px; background: rgba(0,0,0,0.1); border-radius: 5px;
        }

        h2 { color: var(--dark); border-bottom: 2px solid var(--accent); padding-bottom: 10px; display: inline-block; margin-top: 0; }
        h3 { color: var(--primary); margin-top: 20px; }

        /* –ò–ì–†–ê: –õ–∏—à–Ω–µ–µ */
        .odd-game { display: flex; gap: 20px; justify-content: center; flex-wrap: wrap; }
        .odd-group { background: var(--accent); padding: 15px; border-radius: 10px; text-align: center; width: 100%; }
        .word-btn { 
            margin: 5px; padding: 10px 20px; border: 1px solid var(--primary); 
            background: white; cursor: pointer; border-radius: 5px; transition: 0.2s; font-weight: bold;
        }
        .word-btn:hover { background: var(--primary); color: white; }
        .word-btn.wrong { background: var(--red); color: white; border-color: var(--red); } /* –õ–∏—à–Ω–µ–µ —Å–ª–æ–≤–æ */
        .word-btn.correct { background: var(--green); color: white; border-color: var(--green); opacity: 0.5; } /* –ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ —Å–ª–æ–≤–∞ */

        /* –¢–ï–û–†–ò–Ø: –≠—Ç–∞–ø—ã (Timeline) */
        .steps-container { display: flex; justify-content: space-between; margin-top: 20px; position: relative; flex-wrap: wrap; gap: 10px;}
        .step-card { 
            flex: 1; min-width: 120px; background: white; border: 2px solid var(--primary); 
            padding: 10px; text-align: center; border-radius: 10px; font-size: 0.9rem; z-index: 1;
        }
        .step-arrow { font-size: 2rem; color: var(--primary); align-self: center; }

        /* –ö–û–ù–°–¢–†–£–ö–¢–û–† */
        .blueprint-area { 
            background: #e3f2fd; padding: 25px; border: 2px dashed var(--primary); 
            border-radius: 10px; display: grid; gap: 15px;
        }
        .bp-input { width: 100%; padding: 10px; border: 1px solid #90caf9; border-radius: 5px; box-sizing: border-box; }
        .bp-label { font-weight: bold; color: var(--dark); display: block; margin-bottom: 5px; }
        
        .passport-card {
            margin-top: 20px; border: 4px double var(--dark); padding: 20px; 
            background: white; display: none; animation: fadeIn 0.5s;
        }
        .passport-title { text-align: center; text-transform: uppercase; border-bottom: 2px solid black; padding-bottom: 10px; margin-bottom: 15px; }

        /* –í–ò–î–ï–û */
        .video-wrapper { border-radius: 5px; overflow: hidden; position: relative; padding-bottom: 56.25%; height: 0; margin: 20px 0; border: 4px solid var(--dark); }
        .video-wrapper iframe { position: absolute; top: 0; left: 0; width: 100%; height: 100%; }

        /* –†–ê–ë–û–ß–ò–ï –õ–ò–°–¢–´ */
        details.worksheet { background: var(--white); border: 1px solid #ccc; border-radius: 5px; margin-bottom: 15px; overflow: hidden; }
        summary.worksheet-header { background: #bbdefb; padding: 15px; cursor: pointer; font-weight: bold; color: var(--dark); list-style: none; display: flex; justify-content: space-between; align-items: center; }
        summary.worksheet-header:hover { background: #90caf9; }
        summary.worksheet-header::after { content: '‚ñº'; font-size: 0.8em; }
        details[open] summary.worksheet-header::after { content: '‚ñ≤'; }
        .sheet-content { padding: 20px; border-top: 1px solid #eee; background: #fff; }
        .sheet-input { border: none; border-bottom: 1px solid #000; background: #f9f9f9; width: 100%; padding: 5px; margin-bottom: 5px; }
        table.sheet-table { width: 100%; border-collapse: collapse; margin: 15px 0; font-size: 0.9rem; }
        table.sheet-table th, table.sheet-table td { border: 1px solid #aaa; padding: 8px; text-align: left; vertical-align: top; }
        table.sheet-table th { background: #eee; }
        textarea.sheet-area { width: 100%; height: 60px; border: 1px solid #ccc; border-radius: 5px; padding: 10px; background: #fff; }
        
        .btn-download { background: var(--dark); color: white; border: none; padding: 15px 30px; border-radius: 5px; cursor: pointer; width: 100%; font-size: 1.1rem; font-weight: bold; margin-top: 20px; transition: 0.3s; }
        .btn-download:hover { background: var(--primary); transform: translateY(-2px); }

        /* –¢–ï–°–¢ */
        .quiz-item { margin-bottom: 15px; padding: 15px; background: #e1f5fe; border-radius: 5px; border-left: 4px solid var(--primary); }
        .btn-check { background: var(--primary); color: white; border: none; padding: 10px 25px; border-radius: 5px; cursor: pointer; font-weight: bold; }

        /* –†–ï–§–õ–ï–ö–°–ò–Ø */
        .step-grid { display: flex; gap: 15px; margin-top: 20px; }
        .step-col { flex: 1; }
        .step-col textarea { width: 100%; height: 80px; padding: 10px; border: 2px solid #ccc; border-radius: 10px; resize: none; }
        .step-col h4 { text-align: center; margin-bottom: 5px; }
        
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
    </style>
</head>
<body>

<header>
    <a href="../index.html" class="back-btn">‚Üê –ú–µ–Ω—é</a>
    <div style="text-align: right">
        <h1 style="margin:0; font-size: 1.5rem;">–ü—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —ç–∫–æ–ø—Ä–æ–µ–∫—Ç–æ–≤</h1>
        <small>–£—Ä–æ–∫ ‚Ññ19</small>
    </div>
</header>

<div class="content">
    
    <section>
        <h2>üìê –û—Ç –∏–¥–µ–∏ –∫ –¥–µ–ª—É</h2>
        <p><i>–í–æ–ø—Ä–æ—Å:</i> –£ –≤–∞—Å –µ—Å—Ç—å –∏–¥–µ—è, –∫–∞–∫ —É–ª—É—á—à–∏—Ç—å –¥–≤–æ—Ä –∏–ª–∏ –ø–∞—Ä–∫? –ù–æ —Å —á–µ–≥–æ –Ω–∞—á–∞—Ç—å? –ë–µ–∑ –ø–ª–∞–Ω–∞ –∏–¥–µ—è –æ—Å—Ç–∞–Ω–µ—Ç—Å—è –ø—Ä–æ—Å—Ç–æ –º–µ—á—Ç–æ–π.</p>
        <div style="background: #e1f5fe; padding: 15px; border-radius: 5px; border-left: 5px solid var(--primary);">
            <strong>–¶–µ–ª—å:</strong> –ù–∞—É—á–∏—Ç—å—Å—è –ø—Ä–µ–≤—Ä–∞—â–∞—Ç—å –ø—Ä–æ–±–ª–µ–º—ã –≤ —á–µ—Ç–∫–∏–µ –ø—Ä–æ–µ–∫—Ç—ã.
        </div>
    </section>

    <section>
        <h2>üö´ –ò–≥—Ä–∞ ¬´–ù–∞–π–¥–∏ –ª–∏—à–Ω–µ–µ¬ª</h2>
        <p>–í—ã–±–µ—Ä–∏—Ç–µ —Å–ª–æ–≤–æ, –∫–æ—Ç–æ—Ä–æ–µ –ù–ï –æ—Ç–Ω–æ—Å–∏—Ç—Å—è –∫ —Å–æ–∑–¥–∞–Ω–∏—é –ø—Ä–æ–µ–∫—Ç–∞:</p>
        
        <div class="odd-game">
            <div class="odd-group">
                <button class="word-btn" onclick="checkOdd(this, false)">–¶–µ–ª—å</button>
                <button class="word-btn" onclick="checkOdd(this, false)">–ü—Ä–æ–µ–∫—Ç</button>
                <button class="word-btn" onclick="checkOdd(this, true)">üì∫ –†–µ–∫–ª–∞–º–∞</button>
                <button class="word-btn" onclick="checkOdd(this, false)">–ó–∞–¥–∞—á–∞</button>
            </div>
            <div class="odd-group">
                <button class="word-btn" onclick="checkOdd(this, false)">–ü—Ä–æ–±–ª–µ–º–∞</button>
                <button class="word-btn" onclick="checkOdd(this, true)">üé¨ –§–∏–ª—å–º</button>
                <button class="word-btn" onclick="checkOdd(this, false)">–≠—Ç–∞–ø</button>
                <button class="word-btn" onclick="checkOdd(this, false)">–ë—é–¥–∂–µ—Ç</button>
            </div>
        </div>
        <p id="oddMsg" style="text-align:center; font-weight:bold; height:20px;"></p>
    </section>

    <section>
        <h2>üìö –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞</h2>
        <p>–õ—é–±–æ–π –ø—Ä–æ–µ–∫—Ç —Å—Ç—Ä–æ–∏—Ç—Å—è –ø–æ —ç—Ç–∞–ø–∞–º:</p>
        
        <div class="steps-container">
            <div class="step-card">1. –ü—Ä–æ–±–ª–µ–º–∞<br>üå™Ô∏è</div>
            <div class="step-arrow">‚Üí</div>
            <div class="step-card">2. –¶–µ–ª—å<br>üéØ</div>
            <div class="step-arrow">‚Üí</div>
            <div class="step-card">3. –ü–ª–∞–Ω<br>üìã</div>
            <div class="step-arrow">‚Üí</div>
            <div class="step-card">4. –†–µ–∑—É–ª—å—Ç–∞—Ç<br>üèÜ</div>
        </div>
        <div class="video-wrapper">
            <iframe width="560" height="315" src="https://www.youtube.com/embed/0-sG9Tiom8o?si=OOcjfYC_PV9L45al" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
        </div>
    </section>

    <section>
        <h2>üèóÔ∏è –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –≠–∫–æ–ø—Ä–æ–µ–∫—Ç–∞</h2>
        <p>–í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–±–ª–µ–º—É –∏ —Å–æ–∑–¥–∞–π—Ç–µ –ø–∞—Å–ø–æ—Ä—Ç —Å–≤–æ–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞.</p>
        
        <div class="blueprint-area">
            <div>
                <span class="bp-label">1. –í—ã–±–µ—Ä–∏ –ø—Ä–æ–±–ª–µ–º—É:</span>
                <select id="bpProblem" class="bp-input" onchange="autoFillGoals()">
                    <option value="">-- –í—ã–±–µ—Ä–∏—Ç–µ --</option>
                    <option value="trash">–ú–Ω–æ–≥–æ –º—É—Å–æ—Ä–∞ –≤–æ –¥–≤–æ—Ä–µ</option>
                    <option value="green">–ú–∞–ª–æ –∑–µ–ª—ë–Ω—ã—Ö –∑–æ–Ω</option>
                    <option value="plastic">–ú–Ω–æ–≥–æ –ø–ª–∞—Å—Ç–∏–∫–∞ –≤ –∫–æ–ª–ª–µ–¥–∂–µ</option>
                    <option value="water">–ó–∞–≥—Ä—è–∑–Ω–µ–Ω–∏–µ –≤–æ–¥–æ—ë–º–∞</option>
                </select>
            </div>
            
            <div>
                <span class="bp-label">2. –ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞:</span>
                <input type="text" id="bpName" class="bp-input" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –ß–∏—Å—Ç—ã–π –¥–≤–æ—Ä">
            </div>

            <div>
                <span class="bp-label">3. –¶–µ–ª—å (–ß–µ–≥–æ —Ö–æ—Ç–∏–º –¥–æ–±–∏—Ç—å—Å—è?):</span>
                <input type="text" id="bpGoal" class="bp-input" placeholder="–ê–≤—Ç–æ–∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –ø—Ä–∏ –≤—ã–±–æ—Ä–µ –ø—Ä–æ–±–ª–µ–º—ã...">
            </div>

            <div>
                <span class="bp-label">4. –ó–∞–¥–∞—á–∏ (3 —à–∞–≥–∞):</span>
                <textarea id="bpTasks" class="bp-input" style="height:80px" placeholder="1. –ö—É–ø–∏—Ç—å –ø–µ—Ä—á–∞—Ç–∫–∏..."></textarea>
            </div>

            <button class="btn-check" style="width:100%" onclick="generatePassport()">üìë –°—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å –ü–∞—Å–ø–æ—Ä—Ç –ü—Ä–æ–µ–∫—Ç–∞</button>
        </div>

        <div id="projectPassport" class="passport-card">
            <div class="passport-title">–ü–∞—Å–ø–æ—Ä—Ç –≠–∫–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–≥–æ –ü—Ä–æ–µ–∫—Ç–∞</div>
            <p><b>–ù–∞–∑–≤–∞–Ω–∏–µ:</b> <span id="resName"></span></p>
            <p><b>–ü—Ä–æ–±–ª–µ–º–∞:</b> <span id="resProblem"></span></p>
            <p><b>–¶–µ–ª—å:</b> <span id="resGoal"></span></p>
            <p><b>–û—Å–Ω–æ–≤–Ω—ã–µ –∑–∞–¥–∞—á–∏:</b></p>
            <pre id="resTasks" style="font-family:inherit; background:#eee; padding:10px;"></pre>
            <p style="text-align:right; margin-top:20px;"><i>–°—Ç–∞—Ç—É—Å: –ì–æ—Ç–æ–≤ –∫ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ üöÄ</i></p>
        </div>
    </section>

    <section id="worksheets-container">
        <h2>üìù –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (Word)</h2>
        <p>–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –¥–µ—Ç–∞–ª–∏ –∏ —Å–∫–∞—á–∞–π—Ç–µ –ø–æ–ª–Ω—ã–π –ø–∞–∫–µ—Ç –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤.</p>

        <details class="worksheet" open>
            <summary class="worksheet-header">üìÑ –õ–ò–°–¢ 1 ‚Äî ¬´–®–∞–±–ª–æ–Ω –ø—Ä–æ–µ–∫—Ç–∞¬ª</summary>
            <div class="sheet-content">
                <p>–ù–∞–∑–≤–∞–Ω–∏–µ: <input type="text" class="sheet-input"></p>
                <p>–ü—Ä–æ–±–ª–µ–º–∞: <input type="text" class="sheet-input"></p>
                <p>–¶–µ–ª—å: <input type="text" class="sheet-input"></p>
                <p>–†–µ—Å—É—Ä—Å—ã (—á—Ç–æ –Ω—É–∂–Ω–æ): <textarea class="sheet-area" placeholder="–ú–µ—à–∫–∏, –ª–æ–ø–∞—Ç—ã, –ª—é–¥–∏..."></textarea></p>
                <p>–£—á–∞—Å—Ç–Ω–∏–∫–∏: <input type="text" class="sheet-input"></p>
                <p>–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: <input type="text" class="sheet-input"></p>
            </div>
        </details>

        <details class="worksheet">
            <summary class="worksheet-header">üîç –õ–ò–°–¢ 2 ‚Äî ¬´–ê–Ω–∞–ª–∏–∑¬ª</summary>
            <div class="sheet-content">
                <table class="sheet-table">
                    <tr><th>–ü—Ä–æ–±–ª–µ–º–∞</th><th>–ü–æ—á–µ–º—É –≤–æ–∑–Ω–∏–∫–ª–∞?</th><th>–ß—Ç–æ –±—É–¥–µ—Ç, –µ—Å–ª–∏ –Ω–µ —Ä–µ—à–∏—Ç—å?</th></tr>
                    <tr><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td></tr>
                </table>
            </div>
        </details>

        <details class="worksheet">
            <summary class="worksheet-header">üë• –õ–ò–°–¢ 4 ‚Äî ¬´–ö–æ–º–∞–Ω–¥–∞¬ª</summary>
            <div class="sheet-content">
                <table class="sheet-table">
                    <tr><th>–£—á–∞—Å—Ç–Ω–∏–∫</th><th>–†–æ–ª—å (—á—Ç–æ –¥–µ–ª–∞–µ—Ç)</th><th>–ù–∞–≤—ã–∫–∏</th></tr>
                    <tr><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td></tr>
                    <tr><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td></tr>
                </table>
            </div>
        </details>

        <button class="btn-download" onclick="generateAndDownloadWord()">üíæ –°–∫–∞—á–∞—Ç—å –ø—Ä–æ–µ–∫—Ç–Ω—É—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é (Word)</button>
    </section>

    <section>
        <h2>üß† –¢–µ—Å—Ç: –ü—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤—â–∏–∫</h2>
        <form id="quizForm">
            <div class="quiz-item">1. –ü—Ä–æ–µ–∫—Ç ‚Äî —ç—Ç–æ: <br><input type="radio" name="q1" value="b"> –ü–ª–∞–Ω —Ä–µ—à–µ–Ω–∏—è –ø—Ä–æ–±–ª–µ–º—ã <input type="radio" name="q1" value="a"> –ù–∞–±–æ—Ä –¥–µ–π—Å—Ç–≤–∏–π</div>
            <div class="quiz-item">2. –° —á–µ–≥–æ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è –ø—Ä–æ–µ–∫—Ç? <br><input type="radio" name="q2" value="b"> –° —Ü–µ–ª–∏ –∏ –ø—Ä–æ–±–ª–µ–º—ã <input type="radio" name="q2" value="a"> –° —Ä–µ–∫–ª–∞–º—ã</div>
            <div class="quiz-item">3. –ó–∞–¥–∞—á–∞ –ø—Ä–æ–µ–∫—Ç–∞ ‚Äî —ç—Ç–æ: <br><input type="radio" name="q3" value="a"> –®–∞–≥ –∫ —Ü–µ–ª–∏ <input type="radio" name="q3" value="b"> –ò—Ç–æ–≥</div>
            <div class="quiz-item">4. –ß—Ç–æ –Ω–µ –æ—Ç–Ω–æ—Å–∏—Ç—Å—è –∫ —ç–∫–æ–ø—Ä–æ–µ–∫—Ç–∞–º? <br><input type="radio" name="q4" value="c"> –†–µ–∫–ª–∞–º–∞ –≥–∞–∑–∏—Ä–æ–≤–∫–∏ <input type="radio" name="q4" value="a"> –£–±–æ—Ä–∫–∞</div>
            <button type="button" class="btn-check" onclick="checkQuiz()">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å</button>
            <p id="quiz-result" style="font-weight:bold; margin-top:10px;"></p>
        </form>
    </section>

    <section>
        <h2>üë£ –¢—Ä–∏ —à–∞–≥–∞</h2>
        <div class="step-grid">
            <div class="step-col">
                <h4>üß† –ù–∞—É—á–∏–ª—Å—è</h4>
                <textarea id="ref1" placeholder="–ß–µ–º—É?"></textarea>
            </div>
            <div class="step-col">
                <h4>‚ù§Ô∏è –ü–æ–Ω—Ä–∞–≤–∏–ª–æ—Å—å</h4>
                <textarea id="ref2" placeholder="–ß—Ç–æ?"></textarea>
            </div>
            <div class="step-col">
                <h4>üöÄ –£–ª—É—á—à—É</h4>
                <textarea id="ref3" placeholder="–ß—Ç–æ?"></textarea>
            </div>
        </div>
    </section>
</div>

<script>
    // --- –ò–ì–†–ê 1: –õ–∏—à–Ω–µ–µ ---
    function checkOdd(btn, isOdd) {
        const parent = btn.parentElement;
        // –ë–ª–æ–∫–∏—Ä—É–µ–º –∫–Ω–æ–ø–∫–∏ –≤ —ç—Ç–æ–π –≥—Ä—É–ø–ø–µ
        Array.from(parent.children).forEach(b => b.disabled = true);

        if(isOdd) {
            btn.classList.add('wrong'); // –ö—Ä–∞—Å–Ω—ã–π, —Ç–∞–∫ –∫–∞–∫ —ç—Ç–æ –ª–∏—à–Ω–µ–µ
            document.getElementById('oddMsg').innerText = "–í–µ—Ä–Ω–æ! –≠—Ç–æ –ª–∏—à–Ω–µ–µ —Å–ª–æ–≤–æ.";
            document.getElementById('oddMsg').style.color = "green";
        } else {
            btn.classList.add('correct');
            document.getElementById('oddMsg').innerText = "–û—à–∏–±–∫–∞. –≠—Ç–æ —á–∞—Å—Ç—å –ø—Ä–æ–µ–∫—Ç–∞.";
            document.getElementById('oddMsg').style.color = "red";
        }
    }

    // --- –ö–û–ù–°–¢–†–£–ö–¢–û–† ---
    function autoFillGoals() {
        const val = document.getElementById('bpProblem').value;
        const goalInput = document.getElementById('bpGoal');
        
        const goals = {
            'trash': '–û—á–∏—Å—Ç–∏—Ç—å —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏—é –¥–≤–æ—Ä–∞ –æ—Ç –º—É—Å–æ—Ä–∞ –∑–∞ 1 –¥–µ–Ω—å.',
            'green': '–ü–æ—Å–∞–¥–∏—Ç—å 10 –¥–µ—Ä–µ–≤—å–µ–≤ –∏ —Ä–∞–∑–±–∏—Ç—å –∫–ª—É–º–±—É.',
            'plastic': '–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –±–∞–∫ –¥–ª—è –ø–ª–∞—Å—Ç–∏–∫–∞ –∏ —Å–æ–±—Ä–∞—Ç—å 50 –∫–≥.',
            'water': '–û—á–∏—Å—Ç–∏—Ç—å –±–µ—Ä–µ–≥ –≤–æ–¥–æ–µ–º–∞ –æ—Ç –ø–ª–∞—Å—Ç–∏–∫–∞.'
        };
        
        if(goals[val]) goalInput.value = goals[val];
    }

    function generatePassport() {
        const probSelect = document.getElementById('bpProblem');
        const probText = probSelect.options[probSelect.selectedIndex].text;
        const name = document.getElementById('bpName').value || "–ë–µ–∑ –Ω–∞–∑–≤–∞–Ω–∏—è";
        const goal = document.getElementById('bpGoal').value;
        const tasks = document.getElementById('bpTasks').value;

        if(probSelect.value === "") { alert("–í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–±–ª–µ–º—É!"); return; }

        document.getElementById('resName').innerText = name;
        document.getElementById('resProblem').innerText = probText;
        document.getElementById('resGoal').innerText = goal;
        document.getElementById('resTasks').innerText = tasks;

        document.getElementById('projectPassport').style.display = 'block';
    }

    // --- WORD ---
    function generateAndDownloadWord() {
        const container = document.getElementById('worksheets-container');
        const clone = container.cloneNode(true);
        clone.querySelector('button').remove(); clone.querySelector('h2').remove(); clone.querySelector('p').remove();
        
        clone.querySelectorAll('input, textarea').forEach(input => {
            const span = document.createElement('span');
            span.style.color = 'blue'; span.style.fontWeight = 'bold';
            span.innerText = input.value || "______________________";
            input.replaceWith(span);
        });

        // –î–æ–±–∞–≤–ª—è–µ–º –ø–∞—Å–ø–æ—Ä—Ç –∏–∑ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞
        const passportDiv = document.getElementById('projectPassport');
        let passportHTML = "";
        if(passportDiv.style.display !== 'none') {
            passportHTML = `<br><hr><h3>–ü–ê–°–ü–û–†–¢ –ü–†–û–ï–ö–¢–ê</h3>` + passportDiv.innerHTML;
        }

        const header = "<html xmlns:o='urn:schemas-microsoft-com:office:office' xmlns:w='urn:schemas-microsoft-com:office:word' xmlns='http://www.w3.org/TR/REC-html40'><head><meta charset='utf-8'><title>–ü—Ä–æ–µ–∫—Ç</title></head><body>";
        const footer = "</body></html>";
        const content = `<h1 style="text-align:center;color:#0277bd">–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –≠–∫–æ–ø—Ä–æ–µ–∫—Ç–∞</h1>` + clone.innerHTML + passportHTML;
        
        const blob = new Blob(['\ufeff', header + content + footer], { type: 'application/msword' });
        const url = URL.createObjectURL(blob);
        const link = document.createElement('a'); link.href = url; link.download = '–ú–æ–π_–≠–∫–æ–ø—Ä–æ–µ–∫—Ç.doc';
        document.body.appendChild(link); link.click(); document.body.removeChild(link);
    }

    // --- –¢–ï–°–¢ ---
    function checkQuiz() {
        const form = document.getElementById('quizForm');
        let score = 0;
        if(form.q1.value === 'b') score++;
        if(form.q2.value === 'b') score++;
        if(form.q3.value === 'a') score++;
        if(form.q4.value === 'c') score++;
        const res = document.getElementById('quiz-result');
        res.innerText = `–†–µ–∑—É–ª—å—Ç–∞—Ç: ${score}/4. ` + (score===4 ? "–ü—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤—â–∏–∫!" : "–ò–∑—É—á–∏ —Å—Ö–µ–º—É.");
        res.style.color = score===4 ? "green" : "red";
    }
</script>

</body>
</html>